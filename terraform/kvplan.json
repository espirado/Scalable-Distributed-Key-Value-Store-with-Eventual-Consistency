{
  "format_version": "1.2",
  "terraform_version": "1.9.0",
  "variables": {
    "availability_zones": {
      "value": [
        "us-east-1a",
        "us-east-1b",
        "us-east-1c"
      ]
    },
    "aws_region": {
      "value": "us-east-1"
    },
    "certificate_arn": {
      "value": null
    },
    "create_https_listener": {
      "value": false
    },
    "default_tags": {
      "value": {
        "CreatedBy": "terraform",
        "Environment": "dev",
        "ManagedBy": "terraform",
        "Owner": "infrastructure-team",
        "Project": "kvstore",
        "Region": "us-east-1"
      }
    },
    "environment": {
      "value": "dev"
    },
    "kvstore_client_port": {
      "value": 8080
    },
    "kvstore_gossip_port": {
      "value": 7947
    },
    "kvstore_peer_port": {
      "value": 7946
    },
    "private_subnet_cidrs": {
      "value": [
        "10.0.0.0/19",
        "10.0.32.0/19",
        "10.0.64.0/19"
      ]
    },
    "project_name": {
      "value": "kvstore"
    },
    "public_subnet_cidrs": {
      "value": [
        "10.0.96.0/19",
        "10.0.128.0/19",
        "10.0.160.0/19"
      ]
    },
    "vpc_cidr": {
      "value": "10.0.0.0/16"
    }
  },
  "planned_values": {
    "outputs": {
      "alb_dns_name": {
        "sensitive": false
      },
      "eks_cluster_endpoint": {
        "sensitive": false
      },
      "eks_cluster_id": {
        "sensitive": false
      },
      "nat_gateway_public_ips": {
        "sensitive": false
      },
      "private_subnet_ids": {
        "sensitive": false
      },
      "public_subnet_ids": {
        "sensitive": false
      },
      "vpc_flow_logs_group": {
        "sensitive": false,
        "type": "string",
        "value": "/aws/vpc-flow-logs/kvstore-dev"
      },
      "vpc_id": {
        "sensitive": false
      }
    },
    "root_module": {
      "child_modules": [
        {
          "resources": [
            {
              "address": "module.alb.aws_lb.kvstore",
              "mode": "managed",
              "type": "aws_lb",
              "name": "kvstore",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "access_logs": [],
                "client_keep_alive": 3600,
                "connection_logs": [],
                "customer_owned_ipv4_pool": null,
                "desync_mitigation_mode": "defensive",
                "dns_record_client_routing_policy": null,
                "drop_invalid_header_fields": false,
                "enable_cross_zone_load_balancing": null,
                "enable_deletion_protection": false,
                "enable_http2": true,
                "enable_tls_version_and_cipher_suite_headers": false,
                "enable_waf_fail_open": false,
                "enable_xff_client_port": false,
                "idle_timeout": 60,
                "internal": false,
                "load_balancer_type": "application",
                "name": "kvstore-dev-alb",
                "preserve_host_header": false,
                "tags": {
                  "CreatedBy": "terraform",
                  "Environment": "dev",
                  "ManagedBy": "terraform",
                  "Name": "kvstore-dev-alb",
                  "Owner": "infrastructure-team",
                  "Project": "kvstore",
                  "Region": "us-east-1"
                },
                "tags_all": {
                  "CreatedBy": "terraform",
                  "Environment": "dev",
                  "ManagedBy": "terraform",
                  "Name": "kvstore-dev-alb",
                  "Owner": "infrastructure-team",
                  "Project": "kvstore",
                  "Region": "us-east-1"
                },
                "timeouts": null,
                "xff_header_processing_mode": "append"
              },
              "sensitive_values": {
                "access_logs": [],
                "connection_logs": [],
                "security_groups": [],
                "subnet_mapping": [],
                "subnets": [],
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.alb.aws_lb_listener.http",
              "mode": "managed",
              "type": "aws_lb_listener",
              "name": "http",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "alpn_policy": null,
                "certificate_arn": null,
                "default_action": [
                  {
                    "authenticate_cognito": [],
                    "authenticate_oidc": [],
                    "fixed_response": [],
                    "forward": [],
                    "redirect": [],
                    "type": "forward"
                  }
                ],
                "port": 80,
                "protocol": "HTTP",
                "tags": {
                  "CreatedBy": "terraform",
                  "Environment": "dev",
                  "ManagedBy": "terraform",
                  "Name": "kvstore-dev-http-listener",
                  "Owner": "infrastructure-team",
                  "Project": "kvstore",
                  "Region": "us-east-1"
                },
                "tags_all": {
                  "CreatedBy": "terraform",
                  "Environment": "dev",
                  "ManagedBy": "terraform",
                  "Name": "kvstore-dev-http-listener",
                  "Owner": "infrastructure-team",
                  "Project": "kvstore",
                  "Region": "us-east-1"
                },
                "timeouts": null
              },
              "sensitive_values": {
                "default_action": [
                  {
                    "authenticate_cognito": [],
                    "authenticate_oidc": [],
                    "fixed_response": [],
                    "forward": [],
                    "redirect": []
                  }
                ],
                "mutual_authentication": [],
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.alb.aws_lb_target_group.kvstore",
              "mode": "managed",
              "type": "aws_lb_target_group",
              "name": "kvstore",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "deregistration_delay": "300",
                "health_check": [
                  {
                    "enabled": true,
                    "healthy_threshold": 3,
                    "interval": 30,
                    "matcher": "200-299",
                    "path": "/health",
                    "port": "traffic-port",
                    "protocol": "HTTP",
                    "timeout": 5,
                    "unhealthy_threshold": 3
                  }
                ],
                "lambda_multi_value_headers_enabled": false,
                "name": "kvstore-dev-tg",
                "port": 8080,
                "protocol": "HTTP",
                "proxy_protocol_v2": false,
                "slow_start": 0,
                "tags": {
                  "CreatedBy": "terraform",
                  "Environment": "dev",
                  "ManagedBy": "terraform",
                  "Name": "kvstore-dev-tg",
                  "Owner": "infrastructure-team",
                  "Project": "kvstore",
                  "Region": "us-east-1"
                },
                "tags_all": {
                  "CreatedBy": "terraform",
                  "Environment": "dev",
                  "ManagedBy": "terraform",
                  "Name": "kvstore-dev-tg",
                  "Owner": "infrastructure-team",
                  "Project": "kvstore",
                  "Region": "us-east-1"
                },
                "target_type": "instance"
              },
              "sensitive_values": {
                "health_check": [
                  {}
                ],
                "load_balancer_arns": [],
                "stickiness": [],
                "tags": {},
                "tags_all": {},
                "target_failover": [],
                "target_group_health": [],
                "target_health_state": []
              }
            }
          ],
          "address": "module.alb"
        },
        {
          "resources": [
            {
              "address": "module.eks.aws_eks_addon.coredns",
              "mode": "managed",
              "type": "aws_eks_addon",
              "name": "coredns",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "addon_name": "coredns",
                "cluster_name": "kvstore-dev-cluster",
                "preserve": null,
                "resolve_conflicts": null,
                "resolve_conflicts_on_create": null,
                "resolve_conflicts_on_update": null,
                "service_account_role_arn": null,
                "tags": {
                  "Environment": "dev",
                  "ManagedBy": "terraform",
                  "Project": "kvstore"
                },
                "tags_all": {
                  "CreatedBy": "terraform",
                  "Environment": "dev",
                  "ManagedBy": "terraform",
                  "Owner": "infrastructure-team",
                  "Project": "kvstore",
                  "Region": "us-east-1"
                },
                "timeouts": null
              },
              "sensitive_values": {
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.eks.aws_eks_addon.kube_proxy",
              "mode": "managed",
              "type": "aws_eks_addon",
              "name": "kube_proxy",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "addon_name": "kube-proxy",
                "cluster_name": "kvstore-dev-cluster",
                "preserve": null,
                "resolve_conflicts": null,
                "resolve_conflicts_on_create": null,
                "resolve_conflicts_on_update": null,
                "service_account_role_arn": null,
                "tags": {
                  "Environment": "dev",
                  "ManagedBy": "terraform",
                  "Project": "kvstore"
                },
                "tags_all": {
                  "CreatedBy": "terraform",
                  "Environment": "dev",
                  "ManagedBy": "terraform",
                  "Owner": "infrastructure-team",
                  "Project": "kvstore",
                  "Region": "us-east-1"
                },
                "timeouts": null
              },
              "sensitive_values": {
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.eks.aws_eks_addon.vpc_cni",
              "mode": "managed",
              "type": "aws_eks_addon",
              "name": "vpc_cni",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "addon_name": "vpc-cni",
                "cluster_name": "kvstore-dev-cluster",
                "preserve": null,
                "resolve_conflicts": null,
                "resolve_conflicts_on_create": null,
                "resolve_conflicts_on_update": null,
                "service_account_role_arn": null,
                "tags": {
                  "Environment": "dev",
                  "ManagedBy": "terraform",
                  "Project": "kvstore"
                },
                "tags_all": {
                  "CreatedBy": "terraform",
                  "Environment": "dev",
                  "ManagedBy": "terraform",
                  "Owner": "infrastructure-team",
                  "Project": "kvstore",
                  "Region": "us-east-1"
                },
                "timeouts": null
              },
              "sensitive_values": {
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.eks.aws_eks_cluster.main",
              "mode": "managed",
              "type": "aws_eks_cluster",
              "name": "main",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 1,
              "values": {
                "bootstrap_self_managed_addons": true,
                "enabled_cluster_log_types": [
                  "api",
                  "audit",
                  "authenticator",
                  "controllerManager",
                  "scheduler"
                ],
                "encryption_config": [],
                "name": "kvstore-dev-cluster",
                "outpost_config": [],
                "tags": {
                  "Environment": "dev",
                  "ManagedBy": "terraform",
                  "Project": "kvstore"
                },
                "tags_all": {
                  "CreatedBy": "terraform",
                  "Environment": "dev",
                  "ManagedBy": "terraform",
                  "Owner": "infrastructure-team",
                  "Project": "kvstore",
                  "Region": "us-east-1"
                },
                "timeouts": null,
                "version": "1.28",
                "vpc_config": [
                  {
                    "endpoint_private_access": true,
                    "endpoint_public_access": true,
                    "security_group_ids": null
                  }
                ]
              },
              "sensitive_values": {
                "access_config": [],
                "certificate_authority": [],
                "enabled_cluster_log_types": [
                  false,
                  false,
                  false,
                  false,
                  false
                ],
                "encryption_config": [],
                "identity": [],
                "kubernetes_network_config": [],
                "outpost_config": [],
                "tags": {},
                "tags_all": {},
                "upgrade_policy": [],
                "vpc_config": [
                  {
                    "public_access_cidrs": [],
                    "subnet_ids": []
                  }
                ]
              }
            },
            {
              "address": "module.eks.aws_eks_node_group.main[\"general\"]",
              "mode": "managed",
              "type": "aws_eks_node_group",
              "name": "main",
              "index": "general",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "cluster_name": "kvstore-dev-cluster",
                "disk_size": 50,
                "force_update_version": null,
                "instance_types": [
                  "t3.medium"
                ],
                "labels": {
                  "environment": "dev",
                  "node-group": "general",
                  "role": "general"
                },
                "launch_template": [],
                "node_group_name": "kvstore-dev-general",
                "remote_access": [],
                "scaling_config": [
                  {
                    "desired_size": 2,
                    "max_size": 3,
                    "min_size": 1
                  }
                ],
                "tags": {
                  "Environment": "dev",
                  "ManagedBy": "terraform",
                  "Project": "kvstore"
                },
                "tags_all": {
                  "CreatedBy": "terraform",
                  "Environment": "dev",
                  "ManagedBy": "terraform",
                  "Owner": "infrastructure-team",
                  "Project": "kvstore",
                  "Region": "us-east-1"
                },
                "taint": [],
                "timeouts": null
              },
              "sensitive_values": {
                "instance_types": [
                  false
                ],
                "labels": {},
                "launch_template": [],
                "remote_access": [],
                "resources": [],
                "scaling_config": [
                  {}
                ],
                "subnet_ids": [],
                "tags": {},
                "tags_all": {},
                "taint": [],
                "update_config": []
              }
            },
            {
              "address": "module.eks.aws_eks_node_group.main[\"kvstore\"]",
              "mode": "managed",
              "type": "aws_eks_node_group",
              "name": "main",
              "index": "kvstore",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "cluster_name": "kvstore-dev-cluster",
                "disk_size": 100,
                "force_update_version": null,
                "instance_types": [
                  "t3.large"
                ],
                "labels": {
                  "environment": "dev",
                  "node-group": "kvstore",
                  "role": "kvstore"
                },
                "launch_template": [],
                "node_group_name": "kvstore-dev-kvstore",
                "remote_access": [],
                "scaling_config": [
                  {
                    "desired_size": 3,
                    "max_size": 5,
                    "min_size": 3
                  }
                ],
                "tags": {
                  "Environment": "dev",
                  "ManagedBy": "terraform",
                  "Project": "kvstore"
                },
                "tags_all": {
                  "CreatedBy": "terraform",
                  "Environment": "dev",
                  "ManagedBy": "terraform",
                  "Owner": "infrastructure-team",
                  "Project": "kvstore",
                  "Region": "us-east-1"
                },
                "taint": [],
                "timeouts": null
              },
              "sensitive_values": {
                "instance_types": [
                  false
                ],
                "labels": {},
                "launch_template": [],
                "remote_access": [],
                "resources": [],
                "scaling_config": [
                  {}
                ],
                "subnet_ids": [],
                "tags": {},
                "tags_all": {},
                "taint": [],
                "update_config": []
              }
            },
            {
              "address": "module.eks.aws_iam_policy.aws_load_balancer_controller",
              "mode": "managed",
              "type": "aws_iam_policy",
              "name": "aws_load_balancer_controller",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "description": null,
                "name": "kvstore-dev-aws-lb-controller",
                "path": "/",
                "policy": "{\"Statement\":[{\"Action\":[\"iam:CreateServiceLinkedRole\",\"ec2:DescribeAccountAttributes\",\"ec2:DescribeAddresses\",\"ec2:DescribeAvailabilityZones\",\"ec2:DescribeInternetGateways\",\"ec2:DescribeVpcs\",\"ec2:DescribeSubnets\",\"ec2:DescribeSecurityGroups\",\"ec2:DescribeInstances\",\"ec2:DescribeNetworkInterfaces\",\"ec2:DescribeTags\",\"ec2:GetCoipPoolUsage\",\"ec2:DescribeCoipPools\",\"elasticloadbalancing:DescribeLoadBalancers\",\"elasticloadbalancing:DescribeLoadBalancerAttributes\",\"elasticloadbalancing:DescribeListeners\",\"elasticloadbalancing:DescribeListenerCertificates\",\"elasticloadbalancing:DescribeSSLPolicies\",\"elasticloadbalancing:DescribeRules\",\"elasticloadbalancing:DescribeTargetGroups\",\"elasticloadbalancing:DescribeTargetGroupAttributes\",\"elasticloadbalancing:DescribeTargetHealth\",\"elasticloadbalancing:DescribeTags\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"cognito-idp:DescribeUserPoolClient\",\"acm:ListCertificates\",\"acm:DescribeCertificate\",\"iam:ListServerCertificates\",\"iam:GetServerCertificate\",\"waf-regional:GetWebACL\",\"waf-regional:GetWebACLForResource\",\"waf-regional:AssociateWebACL\",\"waf-regional:DisassociateWebACL\",\"wafv2:GetWebACL\",\"wafv2:GetWebACLForResource\",\"wafv2:AssociateWebACL\",\"wafv2:DisassociateWebACL\",\"shield:GetSubscriptionState\",\"shield:DescribeProtection\",\"shield:CreateProtection\",\"shield:DeleteProtection\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"ec2:AuthorizeSecurityGroupIngress\",\"ec2:RevokeSecurityGroupIngress\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"elasticloadbalancing:CreateListener\",\"elasticloadbalancing:DeleteListener\",\"elasticloadbalancing:CreateRule\",\"elasticloadbalancing:DeleteRule\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}],\"Version\":\"2012-10-17\"}",
                "tags": {
                  "Environment": "dev",
                  "ManagedBy": "terraform",
                  "Project": "kvstore"
                },
                "tags_all": {
                  "CreatedBy": "terraform",
                  "Environment": "dev",
                  "ManagedBy": "terraform",
                  "Owner": "infrastructure-team",
                  "Project": "kvstore",
                  "Region": "us-east-1"
                }
              },
              "sensitive_values": {
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.eks.aws_iam_policy.cluster_autoscaler",
              "mode": "managed",
              "type": "aws_iam_policy",
              "name": "cluster_autoscaler",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "description": null,
                "name": "kvstore-dev-cluster-autoscaler",
                "path": "/",
                "policy": "{\"Statement\":[{\"Action\":[\"autoscaling:DescribeAutoScalingGroups\",\"autoscaling:DescribeAutoScalingInstances\",\"autoscaling:DescribeLaunchConfigurations\",\"autoscaling:DescribeTags\",\"autoscaling:SetDesiredCapacity\",\"autoscaling:TerminateInstanceInAutoScalingGroup\",\"ec2:DescribeLaunchTemplateVersions\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}],\"Version\":\"2012-10-17\"}",
                "tags": {
                  "Environment": "dev",
                  "ManagedBy": "terraform",
                  "Project": "kvstore"
                },
                "tags_all": {
                  "CreatedBy": "terraform",
                  "Environment": "dev",
                  "ManagedBy": "terraform",
                  "Owner": "infrastructure-team",
                  "Project": "kvstore",
                  "Region": "us-east-1"
                }
              },
              "sensitive_values": {
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.eks.aws_iam_role.aws_load_balancer_controller",
              "mode": "managed",
              "type": "aws_iam_role",
              "name": "aws_load_balancer_controller",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "description": null,
                "force_detach_policies": false,
                "max_session_duration": 3600,
                "name": "kvstore-dev-aws-lb-controller",
                "path": "/",
                "permissions_boundary": null,
                "tags": {
                  "Environment": "dev",
                  "ManagedBy": "terraform",
                  "Project": "kvstore"
                },
                "tags_all": {
                  "CreatedBy": "terraform",
                  "Environment": "dev",
                  "ManagedBy": "terraform",
                  "Owner": "infrastructure-team",
                  "Project": "kvstore",
                  "Region": "us-east-1"
                }
              },
              "sensitive_values": {
                "inline_policy": [],
                "managed_policy_arns": [],
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.eks.aws_iam_role.cluster_autoscaler",
              "mode": "managed",
              "type": "aws_iam_role",
              "name": "cluster_autoscaler",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "description": null,
                "force_detach_policies": false,
                "max_session_duration": 3600,
                "name": "kvstore-dev-cluster-autoscaler",
                "path": "/",
                "permissions_boundary": null,
                "tags": {
                  "Environment": "dev",
                  "ManagedBy": "terraform",
                  "Project": "kvstore"
                },
                "tags_all": {
                  "CreatedBy": "terraform",
                  "Environment": "dev",
                  "ManagedBy": "terraform",
                  "Owner": "infrastructure-team",
                  "Project": "kvstore",
                  "Region": "us-east-1"
                }
              },
              "sensitive_values": {
                "inline_policy": [],
                "managed_policy_arns": [],
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.eks.aws_iam_role.eks_cluster",
              "mode": "managed",
              "type": "aws_iam_role",
              "name": "eks_cluster",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"eks.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
                "description": null,
                "force_detach_policies": false,
                "max_session_duration": 3600,
                "name": "kvstore-dev-eks-cluster-role",
                "path": "/",
                "permissions_boundary": null,
                "tags": {
                  "Environment": "dev",
                  "ManagedBy": "terraform",
                  "Project": "kvstore"
                },
                "tags_all": {
                  "CreatedBy": "terraform",
                  "Environment": "dev",
                  "ManagedBy": "terraform",
                  "Owner": "infrastructure-team",
                  "Project": "kvstore",
                  "Region": "us-east-1"
                }
              },
              "sensitive_values": {
                "inline_policy": [],
                "managed_policy_arns": [],
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.eks.aws_iam_role.eks_node_group",
              "mode": "managed",
              "type": "aws_iam_role",
              "name": "eks_node_group",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
                "description": null,
                "force_detach_policies": false,
                "max_session_duration": 3600,
                "name": "kvstore-dev-eks-node-group-role",
                "path": "/",
                "permissions_boundary": null,
                "tags": {
                  "Environment": "dev",
                  "ManagedBy": "terraform",
                  "Project": "kvstore"
                },
                "tags_all": {
                  "CreatedBy": "terraform",
                  "Environment": "dev",
                  "ManagedBy": "terraform",
                  "Owner": "infrastructure-team",
                  "Project": "kvstore",
                  "Region": "us-east-1"
                }
              },
              "sensitive_values": {
                "inline_policy": [],
                "managed_policy_arns": [],
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.eks.aws_iam_role_policy_attachment.aws_load_balancer_controller",
              "mode": "managed",
              "type": "aws_iam_role_policy_attachment",
              "name": "aws_load_balancer_controller",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "role": "kvstore-dev-aws-lb-controller"
              },
              "sensitive_values": {}
            },
            {
              "address": "module.eks.aws_iam_role_policy_attachment.cluster_autoscaler",
              "mode": "managed",
              "type": "aws_iam_role_policy_attachment",
              "name": "cluster_autoscaler",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "role": "kvstore-dev-cluster-autoscaler"
              },
              "sensitive_values": {}
            },
            {
              "address": "module.eks.aws_iam_role_policy_attachment.eks_cluster_policy",
              "mode": "managed",
              "type": "aws_iam_role_policy_attachment",
              "name": "eks_cluster_policy",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "policy_arn": "arn:aws:iam::aws:policy/AmazonEKSClusterPolicy",
                "role": "kvstore-dev-eks-cluster-role"
              },
              "sensitive_values": {}
            },
            {
              "address": "module.eks.aws_iam_role_policy_attachment.eks_cni_policy",
              "mode": "managed",
              "type": "aws_iam_role_policy_attachment",
              "name": "eks_cni_policy",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "policy_arn": "arn:aws:iam::aws:policy/AmazonEKS_CNI_Policy",
                "role": "kvstore-dev-eks-node-group-role"
              },
              "sensitive_values": {}
            },
            {
              "address": "module.eks.aws_iam_role_policy_attachment.eks_container_registry_policy",
              "mode": "managed",
              "type": "aws_iam_role_policy_attachment",
              "name": "eks_container_registry_policy",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "policy_arn": "arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryReadOnly",
                "role": "kvstore-dev-eks-node-group-role"
              },
              "sensitive_values": {}
            },
            {
              "address": "module.eks.aws_iam_role_policy_attachment.eks_worker_node_policy",
              "mode": "managed",
              "type": "aws_iam_role_policy_attachment",
              "name": "eks_worker_node_policy",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "policy_arn": "arn:aws:iam::aws:policy/AmazonEKSWorkerNodePolicy",
                "role": "kvstore-dev-eks-node-group-role"
              },
              "sensitive_values": {}
            },
            {
              "address": "module.eks.data.aws_caller_identity.current",
              "mode": "data",
              "type": "aws_caller_identity",
              "name": "current",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "sensitive_values": {}
            },
            {
              "address": "module.eks.data.aws_partition.current",
              "mode": "data",
              "type": "aws_partition",
              "name": "current",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "sensitive_values": {}
            }
          ],
          "address": "module.eks"
        },
        {
          "resources": [
            {
              "address": "module.nacls.aws_network_acl.private",
              "mode": "managed",
              "type": "aws_network_acl",
              "name": "private",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "egress": [
                  {
                    "action": "allow",
                    "cidr_block": "0.0.0.0/0",
                    "from_port": 0,
                    "icmp_code": null,
                    "icmp_type": null,
                    "ipv6_cidr_block": "",
                    "protocol": "-1",
                    "rule_no": 100,
                    "to_port": 0
                  }
                ],
                "ingress": [
                  {
                    "action": "allow",
                    "cidr_block": "0.0.0.0/0",
                    "from_port": 1024,
                    "icmp_code": null,
                    "icmp_type": null,
                    "ipv6_cidr_block": "",
                    "protocol": "tcp",
                    "rule_no": 110,
                    "to_port": 65535
                  },
                  {
                    "action": "allow",
                    "cidr_block": "10.0.0.0/16",
                    "from_port": 0,
                    "icmp_code": null,
                    "icmp_type": null,
                    "ipv6_cidr_block": "",
                    "protocol": "-1",
                    "rule_no": 100,
                    "to_port": 0
                  }
                ],
                "tags": {
                  "Environment": "dev",
                  "Name": "kvstore-dev-private-nacl",
                  "Project": "kvstore"
                },
                "tags_all": {
                  "CreatedBy": "terraform",
                  "Environment": "dev",
                  "ManagedBy": "terraform",
                  "Name": "kvstore-dev-private-nacl",
                  "Owner": "infrastructure-team",
                  "Project": "kvstore",
                  "Region": "us-east-1"
                }
              },
              "sensitive_values": {
                "egress": [
                  {}
                ],
                "ingress": [
                  {},
                  {}
                ],
                "subnet_ids": [],
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.nacls.aws_network_acl.public",
              "mode": "managed",
              "type": "aws_network_acl",
              "name": "public",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "egress": [
                  {
                    "action": "allow",
                    "cidr_block": "0.0.0.0/0",
                    "from_port": 1024,
                    "icmp_code": null,
                    "icmp_type": null,
                    "ipv6_cidr_block": "",
                    "protocol": "tcp",
                    "rule_no": 120,
                    "to_port": 65535
                  },
                  {
                    "action": "allow",
                    "cidr_block": "0.0.0.0/0",
                    "from_port": 443,
                    "icmp_code": null,
                    "icmp_type": null,
                    "ipv6_cidr_block": "",
                    "protocol": "tcp",
                    "rule_no": 110,
                    "to_port": 443
                  },
                  {
                    "action": "allow",
                    "cidr_block": "0.0.0.0/0",
                    "from_port": 80,
                    "icmp_code": null,
                    "icmp_type": null,
                    "ipv6_cidr_block": "",
                    "protocol": "tcp",
                    "rule_no": 100,
                    "to_port": 80
                  },
                  {
                    "action": "allow",
                    "cidr_block": "10.0.0.0/16",
                    "from_port": 0,
                    "icmp_code": null,
                    "icmp_type": null,
                    "ipv6_cidr_block": "",
                    "protocol": "-1",
                    "rule_no": 130,
                    "to_port": 0
                  }
                ],
                "ingress": [
                  {
                    "action": "allow",
                    "cidr_block": "0.0.0.0/0",
                    "from_port": 1024,
                    "icmp_code": null,
                    "icmp_type": null,
                    "ipv6_cidr_block": "",
                    "protocol": "tcp",
                    "rule_no": 120,
                    "to_port": 65535
                  },
                  {
                    "action": "allow",
                    "cidr_block": "0.0.0.0/0",
                    "from_port": 443,
                    "icmp_code": null,
                    "icmp_type": null,
                    "ipv6_cidr_block": "",
                    "protocol": "tcp",
                    "rule_no": 110,
                    "to_port": 443
                  },
                  {
                    "action": "allow",
                    "cidr_block": "0.0.0.0/0",
                    "from_port": 80,
                    "icmp_code": null,
                    "icmp_type": null,
                    "ipv6_cidr_block": "",
                    "protocol": "tcp",
                    "rule_no": 100,
                    "to_port": 80
                  }
                ],
                "tags": {
                  "Environment": "dev",
                  "Name": "kvstore-dev-public-nacl",
                  "Project": "kvstore"
                },
                "tags_all": {
                  "CreatedBy": "terraform",
                  "Environment": "dev",
                  "ManagedBy": "terraform",
                  "Name": "kvstore-dev-public-nacl",
                  "Owner": "infrastructure-team",
                  "Project": "kvstore",
                  "Region": "us-east-1"
                }
              },
              "sensitive_values": {
                "egress": [
                  {},
                  {},
                  {},
                  {}
                ],
                "ingress": [
                  {},
                  {},
                  {}
                ],
                "subnet_ids": [],
                "tags": {},
                "tags_all": {}
              }
            }
          ],
          "address": "module.nacls"
        },
        {
          "resources": [
            {
              "address": "module.nat.aws_eip.nat[0]",
              "mode": "managed",
              "type": "aws_eip",
              "name": "nat",
              "index": 0,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "address": null,
                "associate_with_private_ip": null,
                "customer_owned_ipv4_pool": null,
                "domain": "vpc",
                "tags": {
                  "Environment": "dev",
                  "Name": "kvstore-dev-nat-eip-1",
                  "Project": "kvstore"
                },
                "tags_all": {
                  "CreatedBy": "terraform",
                  "Environment": "dev",
                  "ManagedBy": "terraform",
                  "Name": "kvstore-dev-nat-eip-1",
                  "Owner": "infrastructure-team",
                  "Project": "kvstore",
                  "Region": "us-east-1"
                },
                "timeouts": null
              },
              "sensitive_values": {
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.nat.aws_nat_gateway.main[0]",
              "mode": "managed",
              "type": "aws_nat_gateway",
              "name": "main",
              "index": 0,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "connectivity_type": "public",
                "secondary_allocation_ids": null,
                "tags": {
                  "Environment": "dev",
                  "Name": "kvstore-dev-nat-gw-1",
                  "Project": "kvstore"
                },
                "tags_all": {
                  "CreatedBy": "terraform",
                  "Environment": "dev",
                  "ManagedBy": "terraform",
                  "Name": "kvstore-dev-nat-gw-1",
                  "Owner": "infrastructure-team",
                  "Project": "kvstore",
                  "Region": "us-east-1"
                },
                "timeouts": null
              },
              "sensitive_values": {
                "secondary_private_ip_addresses": [],
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.nat.aws_route.private_nat_gateway[0]",
              "mode": "managed",
              "type": "aws_route",
              "name": "private_nat_gateway",
              "index": 0,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "carrier_gateway_id": null,
                "core_network_arn": null,
                "destination_cidr_block": "0.0.0.0/0",
                "destination_ipv6_cidr_block": null,
                "destination_prefix_list_id": null,
                "egress_only_gateway_id": null,
                "gateway_id": null,
                "local_gateway_id": null,
                "timeouts": null,
                "transit_gateway_id": null,
                "vpc_endpoint_id": null,
                "vpc_peering_connection_id": null
              },
              "sensitive_values": {}
            },
            {
              "address": "module.nat.aws_route.private_nat_gateway[1]",
              "mode": "managed",
              "type": "aws_route",
              "name": "private_nat_gateway",
              "index": 1,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "carrier_gateway_id": null,
                "core_network_arn": null,
                "destination_cidr_block": "0.0.0.0/0",
                "destination_ipv6_cidr_block": null,
                "destination_prefix_list_id": null,
                "egress_only_gateway_id": null,
                "gateway_id": null,
                "local_gateway_id": null,
                "timeouts": null,
                "transit_gateway_id": null,
                "vpc_endpoint_id": null,
                "vpc_peering_connection_id": null
              },
              "sensitive_values": {}
            },
            {
              "address": "module.nat.aws_route.private_nat_gateway[2]",
              "mode": "managed",
              "type": "aws_route",
              "name": "private_nat_gateway",
              "index": 2,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "carrier_gateway_id": null,
                "core_network_arn": null,
                "destination_cidr_block": "0.0.0.0/0",
                "destination_ipv6_cidr_block": null,
                "destination_prefix_list_id": null,
                "egress_only_gateway_id": null,
                "gateway_id": null,
                "local_gateway_id": null,
                "timeouts": null,
                "transit_gateway_id": null,
                "vpc_endpoint_id": null,
                "vpc_peering_connection_id": null
              },
              "sensitive_values": {}
            }
          ],
          "address": "module.nat"
        },
        {
          "resources": [
            {
              "address": "module.security_groups.aws_security_group.kvstore_lb",
              "mode": "managed",
              "type": "aws_security_group",
              "name": "kvstore_lb",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 1,
              "values": {
                "description": "Security group for KV store load balancer",
                "egress": [
                  {
                    "cidr_blocks": [
                      "0.0.0.0/0"
                    ],
                    "description": "",
                    "from_port": 0,
                    "ipv6_cidr_blocks": [],
                    "prefix_list_ids": [],
                    "protocol": "-1",
                    "security_groups": [],
                    "self": false,
                    "to_port": 0
                  }
                ],
                "ingress": [
                  {
                    "cidr_blocks": [
                      "0.0.0.0/0"
                    ],
                    "description": "Client API Access",
                    "from_port": 8080,
                    "ipv6_cidr_blocks": [],
                    "prefix_list_ids": [],
                    "protocol": "tcp",
                    "security_groups": [],
                    "self": false,
                    "to_port": 8080
                  }
                ],
                "name": "kvstore-dev-kvstore-lb-sg",
                "revoke_rules_on_delete": false,
                "tags": {
                  "Environment": "dev",
                  "Name": "kvstore-dev-kvstore-lb-sg",
                  "Project": "kvstore"
                },
                "tags_all": {
                  "CreatedBy": "terraform",
                  "Environment": "dev",
                  "ManagedBy": "terraform",
                  "Name": "kvstore-dev-kvstore-lb-sg",
                  "Owner": "infrastructure-team",
                  "Project": "kvstore",
                  "Region": "us-east-1"
                },
                "timeouts": null
              },
              "sensitive_values": {
                "egress": [
                  {
                    "cidr_blocks": [
                      false
                    ],
                    "ipv6_cidr_blocks": [],
                    "prefix_list_ids": [],
                    "security_groups": []
                  }
                ],
                "ingress": [
                  {
                    "cidr_blocks": [
                      false
                    ],
                    "ipv6_cidr_blocks": [],
                    "prefix_list_ids": [],
                    "security_groups": []
                  }
                ],
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.security_groups.aws_security_group.kvstore_monitoring",
              "mode": "managed",
              "type": "aws_security_group",
              "name": "kvstore_monitoring",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 1,
              "values": {
                "description": "Security group for KV store monitoring",
                "egress": [
                  {
                    "cidr_blocks": [
                      "0.0.0.0/0"
                    ],
                    "description": "",
                    "from_port": 0,
                    "ipv6_cidr_blocks": [],
                    "prefix_list_ids": [],
                    "protocol": "-1",
                    "security_groups": [],
                    "self": false,
                    "to_port": 0
                  }
                ],
                "ingress": [
                  {
                    "cidr_blocks": [
                      "10.0.0.0/16"
                    ],
                    "description": "Node exporter metrics",
                    "from_port": 9100,
                    "ipv6_cidr_blocks": [],
                    "prefix_list_ids": [],
                    "protocol": "tcp",
                    "security_groups": [],
                    "self": false,
                    "to_port": 9100
                  },
                  {
                    "cidr_blocks": [
                      "10.0.0.0/16"
                    ],
                    "description": "Prometheus metrics",
                    "from_port": 9090,
                    "ipv6_cidr_blocks": [],
                    "prefix_list_ids": [],
                    "protocol": "tcp",
                    "security_groups": [],
                    "self": false,
                    "to_port": 9090
                  }
                ],
                "name": "kvstore-dev-kvstore-monitoring-sg",
                "revoke_rules_on_delete": false,
                "tags": {
                  "Environment": "dev",
                  "Name": "kvstore-dev-kvstore-monitoring-sg",
                  "Project": "kvstore"
                },
                "tags_all": {
                  "CreatedBy": "terraform",
                  "Environment": "dev",
                  "ManagedBy": "terraform",
                  "Name": "kvstore-dev-kvstore-monitoring-sg",
                  "Owner": "infrastructure-team",
                  "Project": "kvstore",
                  "Region": "us-east-1"
                },
                "timeouts": null
              },
              "sensitive_values": {
                "egress": [
                  {
                    "cidr_blocks": [
                      false
                    ],
                    "ipv6_cidr_blocks": [],
                    "prefix_list_ids": [],
                    "security_groups": []
                  }
                ],
                "ingress": [
                  {
                    "cidr_blocks": [
                      false
                    ],
                    "ipv6_cidr_blocks": [],
                    "prefix_list_ids": [],
                    "security_groups": []
                  },
                  {
                    "cidr_blocks": [
                      false
                    ],
                    "ipv6_cidr_blocks": [],
                    "prefix_list_ids": [],
                    "security_groups": []
                  }
                ],
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.security_groups.aws_security_group.kvstore_nodes",
              "mode": "managed",
              "type": "aws_security_group",
              "name": "kvstore_nodes",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 1,
              "values": {
                "description": "Security group for KV store nodes",
                "egress": [
                  {
                    "cidr_blocks": [
                      "0.0.0.0/0"
                    ],
                    "description": "",
                    "from_port": 0,
                    "ipv6_cidr_blocks": [],
                    "prefix_list_ids": [],
                    "protocol": "-1",
                    "security_groups": [],
                    "self": false,
                    "to_port": 0
                  }
                ],
                "ingress": [
                  {
                    "cidr_blocks": [
                      "10.0.0.0/16"
                    ],
                    "description": "Client connections",
                    "from_port": 8080,
                    "ipv6_cidr_blocks": [],
                    "prefix_list_ids": [],
                    "protocol": "tcp",
                    "security_groups": [],
                    "self": false,
                    "to_port": 8080
                  },
                  {
                    "cidr_blocks": [],
                    "description": "Gossip protocol",
                    "from_port": 7947,
                    "ipv6_cidr_blocks": [],
                    "prefix_list_ids": [],
                    "protocol": "udp",
                    "security_groups": [],
                    "self": true,
                    "to_port": 7947
                  },
                  {
                    "cidr_blocks": [],
                    "description": "Peer communication",
                    "from_port": 7946,
                    "ipv6_cidr_blocks": [],
                    "prefix_list_ids": [],
                    "protocol": "tcp",
                    "security_groups": [],
                    "self": true,
                    "to_port": 7946
                  }
                ],
                "name": "kvstore-dev-kvstore-nodes-sg",
                "revoke_rules_on_delete": false,
                "tags": {
                  "Environment": "dev",
                  "Name": "kvstore-dev-kvstore-nodes-sg",
                  "Project": "kvstore"
                },
                "tags_all": {
                  "CreatedBy": "terraform",
                  "Environment": "dev",
                  "ManagedBy": "terraform",
                  "Name": "kvstore-dev-kvstore-nodes-sg",
                  "Owner": "infrastructure-team",
                  "Project": "kvstore",
                  "Region": "us-east-1"
                },
                "timeouts": null
              },
              "sensitive_values": {
                "egress": [
                  {
                    "cidr_blocks": [
                      false
                    ],
                    "ipv6_cidr_blocks": [],
                    "prefix_list_ids": [],
                    "security_groups": []
                  }
                ],
                "ingress": [
                  {
                    "cidr_blocks": [
                      false
                    ],
                    "ipv6_cidr_blocks": [],
                    "prefix_list_ids": [],
                    "security_groups": []
                  },
                  {
                    "cidr_blocks": [],
                    "ipv6_cidr_blocks": [],
                    "prefix_list_ids": [],
                    "security_groups": []
                  },
                  {
                    "cidr_blocks": [],
                    "ipv6_cidr_blocks": [],
                    "prefix_list_ids": [],
                    "security_groups": []
                  }
                ],
                "tags": {},
                "tags_all": {}
              }
            }
          ],
          "address": "module.security_groups"
        },
        {
          "resources": [
            {
              "address": "module.vpc.aws_internet_gateway.main",
              "mode": "managed",
              "type": "aws_internet_gateway",
              "name": "main",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "tags": {
                  "Name": "kvstore-dev-igw"
                },
                "tags_all": {
                  "CreatedBy": "terraform",
                  "Environment": "dev",
                  "ManagedBy": "terraform",
                  "Name": "kvstore-dev-igw",
                  "Owner": "infrastructure-team",
                  "Project": "kvstore",
                  "Region": "us-east-1"
                },
                "timeouts": null
              },
              "sensitive_values": {
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.vpc.aws_route_table.private[0]",
              "mode": "managed",
              "type": "aws_route_table",
              "name": "private",
              "index": 0,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "tags": {
                  "Name": "kvstore-dev-private-rt-us-east-1a"
                },
                "tags_all": {
                  "CreatedBy": "terraform",
                  "Environment": "dev",
                  "ManagedBy": "terraform",
                  "Name": "kvstore-dev-private-rt-us-east-1a",
                  "Owner": "infrastructure-team",
                  "Project": "kvstore",
                  "Region": "us-east-1"
                },
                "timeouts": null
              },
              "sensitive_values": {
                "propagating_vgws": [],
                "route": [],
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.vpc.aws_route_table.private[1]",
              "mode": "managed",
              "type": "aws_route_table",
              "name": "private",
              "index": 1,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "tags": {
                  "Name": "kvstore-dev-private-rt-us-east-1b"
                },
                "tags_all": {
                  "CreatedBy": "terraform",
                  "Environment": "dev",
                  "ManagedBy": "terraform",
                  "Name": "kvstore-dev-private-rt-us-east-1b",
                  "Owner": "infrastructure-team",
                  "Project": "kvstore",
                  "Region": "us-east-1"
                },
                "timeouts": null
              },
              "sensitive_values": {
                "propagating_vgws": [],
                "route": [],
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.vpc.aws_route_table.private[2]",
              "mode": "managed",
              "type": "aws_route_table",
              "name": "private",
              "index": 2,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "tags": {
                  "Name": "kvstore-dev-private-rt-us-east-1c"
                },
                "tags_all": {
                  "CreatedBy": "terraform",
                  "Environment": "dev",
                  "ManagedBy": "terraform",
                  "Name": "kvstore-dev-private-rt-us-east-1c",
                  "Owner": "infrastructure-team",
                  "Project": "kvstore",
                  "Region": "us-east-1"
                },
                "timeouts": null
              },
              "sensitive_values": {
                "propagating_vgws": [],
                "route": [],
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.vpc.aws_route_table.public",
              "mode": "managed",
              "type": "aws_route_table",
              "name": "public",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "route": [
                  {
                    "carrier_gateway_id": "",
                    "cidr_block": "0.0.0.0/0",
                    "core_network_arn": "",
                    "destination_prefix_list_id": "",
                    "egress_only_gateway_id": "",
                    "ipv6_cidr_block": "",
                    "local_gateway_id": "",
                    "nat_gateway_id": "",
                    "network_interface_id": "",
                    "transit_gateway_id": "",
                    "vpc_endpoint_id": "",
                    "vpc_peering_connection_id": ""
                  }
                ],
                "tags": {
                  "Name": "kvstore-dev-public-rt"
                },
                "tags_all": {
                  "CreatedBy": "terraform",
                  "Environment": "dev",
                  "ManagedBy": "terraform",
                  "Name": "kvstore-dev-public-rt",
                  "Owner": "infrastructure-team",
                  "Project": "kvstore",
                  "Region": "us-east-1"
                },
                "timeouts": null
              },
              "sensitive_values": {
                "propagating_vgws": [],
                "route": [
                  {}
                ],
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.vpc.aws_route_table_association.private[0]",
              "mode": "managed",
              "type": "aws_route_table_association",
              "name": "private",
              "index": 0,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "gateway_id": null,
                "timeouts": null
              },
              "sensitive_values": {}
            },
            {
              "address": "module.vpc.aws_route_table_association.private[1]",
              "mode": "managed",
              "type": "aws_route_table_association",
              "name": "private",
              "index": 1,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "gateway_id": null,
                "timeouts": null
              },
              "sensitive_values": {}
            },
            {
              "address": "module.vpc.aws_route_table_association.private[2]",
              "mode": "managed",
              "type": "aws_route_table_association",
              "name": "private",
              "index": 2,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "gateway_id": null,
                "timeouts": null
              },
              "sensitive_values": {}
            },
            {
              "address": "module.vpc.aws_route_table_association.public[0]",
              "mode": "managed",
              "type": "aws_route_table_association",
              "name": "public",
              "index": 0,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "gateway_id": null,
                "timeouts": null
              },
              "sensitive_values": {}
            },
            {
              "address": "module.vpc.aws_route_table_association.public[1]",
              "mode": "managed",
              "type": "aws_route_table_association",
              "name": "public",
              "index": 1,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "gateway_id": null,
                "timeouts": null
              },
              "sensitive_values": {}
            },
            {
              "address": "module.vpc.aws_route_table_association.public[2]",
              "mode": "managed",
              "type": "aws_route_table_association",
              "name": "public",
              "index": 2,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "gateway_id": null,
                "timeouts": null
              },
              "sensitive_values": {}
            },
            {
              "address": "module.vpc.aws_subnet.private[0]",
              "mode": "managed",
              "type": "aws_subnet",
              "name": "private",
              "index": 0,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 1,
              "values": {
                "assign_ipv6_address_on_creation": false,
                "availability_zone": "us-east-1a",
                "cidr_block": "10.0.0.0/19",
                "customer_owned_ipv4_pool": null,
                "enable_dns64": false,
                "enable_lni_at_device_index": null,
                "enable_resource_name_dns_a_record_on_launch": false,
                "enable_resource_name_dns_aaaa_record_on_launch": false,
                "ipv6_cidr_block": null,
                "ipv6_native": false,
                "map_customer_owned_ip_on_launch": null,
                "map_public_ip_on_launch": false,
                "outpost_arn": null,
                "tags": {
                  "Name": "kvstore-dev-private-us-east-1a",
                  "kubernetes.io/cluster/kvstore": "shared",
                  "kubernetes.io/role/internal-elb": "1"
                },
                "tags_all": {
                  "CreatedBy": "terraform",
                  "Environment": "dev",
                  "ManagedBy": "terraform",
                  "Name": "kvstore-dev-private-us-east-1a",
                  "Owner": "infrastructure-team",
                  "Project": "kvstore",
                  "Region": "us-east-1",
                  "kubernetes.io/cluster/kvstore": "shared",
                  "kubernetes.io/role/internal-elb": "1"
                },
                "timeouts": null
              },
              "sensitive_values": {
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.vpc.aws_subnet.private[1]",
              "mode": "managed",
              "type": "aws_subnet",
              "name": "private",
              "index": 1,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 1,
              "values": {
                "assign_ipv6_address_on_creation": false,
                "availability_zone": "us-east-1b",
                "cidr_block": "10.0.32.0/19",
                "customer_owned_ipv4_pool": null,
                "enable_dns64": false,
                "enable_lni_at_device_index": null,
                "enable_resource_name_dns_a_record_on_launch": false,
                "enable_resource_name_dns_aaaa_record_on_launch": false,
                "ipv6_cidr_block": null,
                "ipv6_native": false,
                "map_customer_owned_ip_on_launch": null,
                "map_public_ip_on_launch": false,
                "outpost_arn": null,
                "tags": {
                  "Name": "kvstore-dev-private-us-east-1b",
                  "kubernetes.io/cluster/kvstore": "shared",
                  "kubernetes.io/role/internal-elb": "1"
                },
                "tags_all": {
                  "CreatedBy": "terraform",
                  "Environment": "dev",
                  "ManagedBy": "terraform",
                  "Name": "kvstore-dev-private-us-east-1b",
                  "Owner": "infrastructure-team",
                  "Project": "kvstore",
                  "Region": "us-east-1",
                  "kubernetes.io/cluster/kvstore": "shared",
                  "kubernetes.io/role/internal-elb": "1"
                },
                "timeouts": null
              },
              "sensitive_values": {
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.vpc.aws_subnet.private[2]",
              "mode": "managed",
              "type": "aws_subnet",
              "name": "private",
              "index": 2,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 1,
              "values": {
                "assign_ipv6_address_on_creation": false,
                "availability_zone": "us-east-1c",
                "cidr_block": "10.0.64.0/19",
                "customer_owned_ipv4_pool": null,
                "enable_dns64": false,
                "enable_lni_at_device_index": null,
                "enable_resource_name_dns_a_record_on_launch": false,
                "enable_resource_name_dns_aaaa_record_on_launch": false,
                "ipv6_cidr_block": null,
                "ipv6_native": false,
                "map_customer_owned_ip_on_launch": null,
                "map_public_ip_on_launch": false,
                "outpost_arn": null,
                "tags": {
                  "Name": "kvstore-dev-private-us-east-1c",
                  "kubernetes.io/cluster/kvstore": "shared",
                  "kubernetes.io/role/internal-elb": "1"
                },
                "tags_all": {
                  "CreatedBy": "terraform",
                  "Environment": "dev",
                  "ManagedBy": "terraform",
                  "Name": "kvstore-dev-private-us-east-1c",
                  "Owner": "infrastructure-team",
                  "Project": "kvstore",
                  "Region": "us-east-1",
                  "kubernetes.io/cluster/kvstore": "shared",
                  "kubernetes.io/role/internal-elb": "1"
                },
                "timeouts": null
              },
              "sensitive_values": {
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.vpc.aws_subnet.public[0]",
              "mode": "managed",
              "type": "aws_subnet",
              "name": "public",
              "index": 0,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 1,
              "values": {
                "assign_ipv6_address_on_creation": false,
                "availability_zone": "us-east-1a",
                "cidr_block": "10.0.96.0/19",
                "customer_owned_ipv4_pool": null,
                "enable_dns64": false,
                "enable_lni_at_device_index": null,
                "enable_resource_name_dns_a_record_on_launch": false,
                "enable_resource_name_dns_aaaa_record_on_launch": false,
                "ipv6_cidr_block": null,
                "ipv6_native": false,
                "map_customer_owned_ip_on_launch": null,
                "map_public_ip_on_launch": true,
                "outpost_arn": null,
                "tags": {
                  "Name": "kvstore-dev-public-us-east-1a",
                  "kubernetes.io/cluster/kvstore": "shared",
                  "kubernetes.io/role/elb": "1"
                },
                "tags_all": {
                  "CreatedBy": "terraform",
                  "Environment": "dev",
                  "ManagedBy": "terraform",
                  "Name": "kvstore-dev-public-us-east-1a",
                  "Owner": "infrastructure-team",
                  "Project": "kvstore",
                  "Region": "us-east-1",
                  "kubernetes.io/cluster/kvstore": "shared",
                  "kubernetes.io/role/elb": "1"
                },
                "timeouts": null
              },
              "sensitive_values": {
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.vpc.aws_subnet.public[1]",
              "mode": "managed",
              "type": "aws_subnet",
              "name": "public",
              "index": 1,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 1,
              "values": {
                "assign_ipv6_address_on_creation": false,
                "availability_zone": "us-east-1b",
                "cidr_block": "10.0.128.0/19",
                "customer_owned_ipv4_pool": null,
                "enable_dns64": false,
                "enable_lni_at_device_index": null,
                "enable_resource_name_dns_a_record_on_launch": false,
                "enable_resource_name_dns_aaaa_record_on_launch": false,
                "ipv6_cidr_block": null,
                "ipv6_native": false,
                "map_customer_owned_ip_on_launch": null,
                "map_public_ip_on_launch": true,
                "outpost_arn": null,
                "tags": {
                  "Name": "kvstore-dev-public-us-east-1b",
                  "kubernetes.io/cluster/kvstore": "shared",
                  "kubernetes.io/role/elb": "1"
                },
                "tags_all": {
                  "CreatedBy": "terraform",
                  "Environment": "dev",
                  "ManagedBy": "terraform",
                  "Name": "kvstore-dev-public-us-east-1b",
                  "Owner": "infrastructure-team",
                  "Project": "kvstore",
                  "Region": "us-east-1",
                  "kubernetes.io/cluster/kvstore": "shared",
                  "kubernetes.io/role/elb": "1"
                },
                "timeouts": null
              },
              "sensitive_values": {
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.vpc.aws_subnet.public[2]",
              "mode": "managed",
              "type": "aws_subnet",
              "name": "public",
              "index": 2,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 1,
              "values": {
                "assign_ipv6_address_on_creation": false,
                "availability_zone": "us-east-1c",
                "cidr_block": "10.0.160.0/19",
                "customer_owned_ipv4_pool": null,
                "enable_dns64": false,
                "enable_lni_at_device_index": null,
                "enable_resource_name_dns_a_record_on_launch": false,
                "enable_resource_name_dns_aaaa_record_on_launch": false,
                "ipv6_cidr_block": null,
                "ipv6_native": false,
                "map_customer_owned_ip_on_launch": null,
                "map_public_ip_on_launch": true,
                "outpost_arn": null,
                "tags": {
                  "Name": "kvstore-dev-public-us-east-1c",
                  "kubernetes.io/cluster/kvstore": "shared",
                  "kubernetes.io/role/elb": "1"
                },
                "tags_all": {
                  "CreatedBy": "terraform",
                  "Environment": "dev",
                  "ManagedBy": "terraform",
                  "Name": "kvstore-dev-public-us-east-1c",
                  "Owner": "infrastructure-team",
                  "Project": "kvstore",
                  "Region": "us-east-1",
                  "kubernetes.io/cluster/kvstore": "shared",
                  "kubernetes.io/role/elb": "1"
                },
                "timeouts": null
              },
              "sensitive_values": {
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.vpc.aws_vpc.main",
              "mode": "managed",
              "type": "aws_vpc",
              "name": "main",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 1,
              "values": {
                "assign_generated_ipv6_cidr_block": null,
                "cidr_block": "10.0.0.0/16",
                "enable_dns_hostnames": true,
                "enable_dns_support": true,
                "instance_tenancy": "default",
                "ipv4_ipam_pool_id": null,
                "ipv4_netmask_length": null,
                "ipv6_ipam_pool_id": null,
                "ipv6_netmask_length": null,
                "tags": {
                  "Name": "kvstore-dev-vpc",
                  "kubernetes.io/cluster/kvstore": "shared"
                },
                "tags_all": {
                  "CreatedBy": "terraform",
                  "Environment": "dev",
                  "ManagedBy": "terraform",
                  "Name": "kvstore-dev-vpc",
                  "Owner": "infrastructure-team",
                  "Project": "kvstore",
                  "Region": "us-east-1",
                  "kubernetes.io/cluster/kvstore": "shared"
                }
              },
              "sensitive_values": {
                "tags": {},
                "tags_all": {}
              }
            }
          ],
          "address": "module.vpc"
        },
        {
          "resources": [
            {
              "address": "module.vpc_flow_logs.aws_cloudwatch_log_group.flow_logs",
              "mode": "managed",
              "type": "aws_cloudwatch_log_group",
              "name": "flow_logs",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "kms_key_id": null,
                "name": "/aws/vpc-flow-logs/kvstore-dev",
                "retention_in_days": 30,
                "skip_destroy": false,
                "tags": {
                  "CreatedBy": "terraform",
                  "Environment": "dev",
                  "ManagedBy": "terraform",
                  "Name": "kvstore-dev-flow-logs",
                  "Owner": "infrastructure-team",
                  "Project": "kvstore",
                  "Region": "us-east-1"
                },
                "tags_all": {
                  "CreatedBy": "terraform",
                  "Environment": "dev",
                  "ManagedBy": "terraform",
                  "Name": "kvstore-dev-flow-logs",
                  "Owner": "infrastructure-team",
                  "Project": "kvstore",
                  "Region": "us-east-1"
                }
              },
              "sensitive_values": {
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.vpc_flow_logs.aws_cloudwatch_log_metric_filter.rejected_traffic",
              "mode": "managed",
              "type": "aws_cloudwatch_log_metric_filter",
              "name": "rejected_traffic",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "log_group_name": "/aws/vpc-flow-logs/kvstore-dev",
                "metric_transformation": [
                  {
                    "default_value": "0",
                    "dimensions": null,
                    "name": "RejectedTrafficCount",
                    "namespace": "kvstore/dev/VPCFlowLogs",
                    "unit": "None",
                    "value": "1"
                  }
                ],
                "name": "kvstore-dev-rejected-traffic",
                "pattern": "[version, account, eni, source, destination, srcport, destport, protocol, packets, bytes, windowstart, windowend, action=REJECT, flowlogstatus]"
              },
              "sensitive_values": {
                "metric_transformation": [
                  {}
                ]
              }
            },
            {
              "address": "module.vpc_flow_logs.aws_cloudwatch_metric_alarm.rejected_traffic",
              "mode": "managed",
              "type": "aws_cloudwatch_metric_alarm",
              "name": "rejected_traffic",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 1,
              "values": {
                "actions_enabled": true,
                "alarm_actions": null,
                "alarm_description": "This metric monitors rejected VPC traffic",
                "alarm_name": "kvstore-dev-rejected-traffic",
                "comparison_operator": "GreaterThanThreshold",
                "datapoints_to_alarm": null,
                "dimensions": null,
                "evaluation_periods": 1,
                "extended_statistic": null,
                "insufficient_data_actions": null,
                "metric_name": "RejectedTrafficCount",
                "metric_query": [],
                "namespace": "kvstore/dev/VPCFlowLogs",
                "ok_actions": null,
                "period": 300,
                "statistic": "Sum",
                "tags": {
                  "CreatedBy": "terraform",
                  "Environment": "dev",
                  "ManagedBy": "terraform",
                  "Name": "kvstore-dev-rejected-traffic-alarm",
                  "Owner": "infrastructure-team",
                  "Project": "kvstore",
                  "Region": "us-east-1"
                },
                "tags_all": {
                  "CreatedBy": "terraform",
                  "Environment": "dev",
                  "ManagedBy": "terraform",
                  "Name": "kvstore-dev-rejected-traffic-alarm",
                  "Owner": "infrastructure-team",
                  "Project": "kvstore",
                  "Region": "us-east-1"
                },
                "threshold": 100,
                "threshold_metric_id": null,
                "treat_missing_data": "notBreaching",
                "unit": null
              },
              "sensitive_values": {
                "metric_query": [],
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.vpc_flow_logs.aws_flow_log.main",
              "mode": "managed",
              "type": "aws_flow_log",
              "name": "main",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "deliver_cross_account_role": null,
                "destination_options": [],
                "eni_id": null,
                "log_destination_type": "cloud-watch-logs",
                "max_aggregation_interval": 60,
                "subnet_id": null,
                "tags": {
                  "CreatedBy": "terraform",
                  "Environment": "dev",
                  "ManagedBy": "terraform",
                  "Name": "kvstore-dev-flow-log",
                  "Owner": "infrastructure-team",
                  "Project": "kvstore",
                  "Region": "us-east-1"
                },
                "tags_all": {
                  "CreatedBy": "terraform",
                  "Environment": "dev",
                  "ManagedBy": "terraform",
                  "Name": "kvstore-dev-flow-log",
                  "Owner": "infrastructure-team",
                  "Project": "kvstore",
                  "Region": "us-east-1"
                },
                "traffic_type": "ALL",
                "transit_gateway_attachment_id": null,
                "transit_gateway_id": null
              },
              "sensitive_values": {
                "destination_options": [],
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.vpc_flow_logs.aws_iam_role.flow_logs",
              "mode": "managed",
              "type": "aws_iam_role",
              "name": "flow_logs",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"vpc-flow-logs.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
                "description": null,
                "force_detach_policies": false,
                "max_session_duration": 3600,
                "name": "kvstore-dev-flow-logs-role",
                "path": "/",
                "permissions_boundary": null,
                "tags": {
                  "CreatedBy": "terraform",
                  "Environment": "dev",
                  "ManagedBy": "terraform",
                  "Name": "kvstore-dev-flow-logs-role",
                  "Owner": "infrastructure-team",
                  "Project": "kvstore",
                  "Region": "us-east-1"
                },
                "tags_all": {
                  "CreatedBy": "terraform",
                  "Environment": "dev",
                  "ManagedBy": "terraform",
                  "Name": "kvstore-dev-flow-logs-role",
                  "Owner": "infrastructure-team",
                  "Project": "kvstore",
                  "Region": "us-east-1"
                }
              },
              "sensitive_values": {
                "inline_policy": [],
                "managed_policy_arns": [],
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.vpc_flow_logs.aws_iam_role_policy.flow_logs",
              "mode": "managed",
              "type": "aws_iam_role_policy",
              "name": "flow_logs",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "name": "kvstore-dev-flow-logs-policy"
              },
              "sensitive_values": {}
            }
          ],
          "address": "module.vpc_flow_logs"
        }
      ]
    }
  },
  "resource_changes": [
    {
      "address": "module.alb.aws_lb.kvstore",
      "module_address": "module.alb",
      "mode": "managed",
      "type": "aws_lb",
      "name": "kvstore",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "access_logs": [],
          "client_keep_alive": 3600,
          "connection_logs": [],
          "customer_owned_ipv4_pool": null,
          "desync_mitigation_mode": "defensive",
          "dns_record_client_routing_policy": null,
          "drop_invalid_header_fields": false,
          "enable_cross_zone_load_balancing": null,
          "enable_deletion_protection": false,
          "enable_http2": true,
          "enable_tls_version_and_cipher_suite_headers": false,
          "enable_waf_fail_open": false,
          "enable_xff_client_port": false,
          "idle_timeout": 60,
          "internal": false,
          "load_balancer_type": "application",
          "name": "kvstore-dev-alb",
          "preserve_host_header": false,
          "tags": {
            "CreatedBy": "terraform",
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Name": "kvstore-dev-alb",
            "Owner": "infrastructure-team",
            "Project": "kvstore",
            "Region": "us-east-1"
          },
          "tags_all": {
            "CreatedBy": "terraform",
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Name": "kvstore-dev-alb",
            "Owner": "infrastructure-team",
            "Project": "kvstore",
            "Region": "us-east-1"
          },
          "timeouts": null,
          "xff_header_processing_mode": "append"
        },
        "after_unknown": {
          "access_logs": [],
          "arn": true,
          "arn_suffix": true,
          "connection_logs": [],
          "dns_name": true,
          "enforce_security_group_inbound_rules_on_private_link_traffic": true,
          "id": true,
          "ip_address_type": true,
          "name_prefix": true,
          "security_groups": true,
          "subnet_mapping": true,
          "subnets": true,
          "tags": {},
          "tags_all": {},
          "vpc_id": true,
          "zone_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "access_logs": [],
          "connection_logs": [],
          "security_groups": [],
          "subnet_mapping": [],
          "subnets": [],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.alb.aws_lb_listener.http",
      "module_address": "module.alb",
      "mode": "managed",
      "type": "aws_lb_listener",
      "name": "http",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "alpn_policy": null,
          "certificate_arn": null,
          "default_action": [
            {
              "authenticate_cognito": [],
              "authenticate_oidc": [],
              "fixed_response": [],
              "forward": [],
              "redirect": [],
              "type": "forward"
            }
          ],
          "port": 80,
          "protocol": "HTTP",
          "tags": {
            "CreatedBy": "terraform",
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Name": "kvstore-dev-http-listener",
            "Owner": "infrastructure-team",
            "Project": "kvstore",
            "Region": "us-east-1"
          },
          "tags_all": {
            "CreatedBy": "terraform",
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Name": "kvstore-dev-http-listener",
            "Owner": "infrastructure-team",
            "Project": "kvstore",
            "Region": "us-east-1"
          },
          "timeouts": null
        },
        "after_unknown": {
          "arn": true,
          "default_action": [
            {
              "authenticate_cognito": [],
              "authenticate_oidc": [],
              "fixed_response": [],
              "forward": [],
              "order": true,
              "redirect": [],
              "target_group_arn": true
            }
          ],
          "id": true,
          "load_balancer_arn": true,
          "mutual_authentication": true,
          "ssl_policy": true,
          "tags": {},
          "tags_all": {}
        },
        "before_sensitive": false,
        "after_sensitive": {
          "default_action": [
            {
              "authenticate_cognito": [],
              "authenticate_oidc": [],
              "fixed_response": [],
              "forward": [],
              "redirect": []
            }
          ],
          "mutual_authentication": [],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.alb.aws_lb_target_group.kvstore",
      "module_address": "module.alb",
      "mode": "managed",
      "type": "aws_lb_target_group",
      "name": "kvstore",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "deregistration_delay": "300",
          "health_check": [
            {
              "enabled": true,
              "healthy_threshold": 3,
              "interval": 30,
              "matcher": "200-299",
              "path": "/health",
              "port": "traffic-port",
              "protocol": "HTTP",
              "timeout": 5,
              "unhealthy_threshold": 3
            }
          ],
          "lambda_multi_value_headers_enabled": false,
          "name": "kvstore-dev-tg",
          "port": 8080,
          "protocol": "HTTP",
          "proxy_protocol_v2": false,
          "slow_start": 0,
          "tags": {
            "CreatedBy": "terraform",
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Name": "kvstore-dev-tg",
            "Owner": "infrastructure-team",
            "Project": "kvstore",
            "Region": "us-east-1"
          },
          "tags_all": {
            "CreatedBy": "terraform",
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Name": "kvstore-dev-tg",
            "Owner": "infrastructure-team",
            "Project": "kvstore",
            "Region": "us-east-1"
          },
          "target_type": "instance"
        },
        "after_unknown": {
          "arn": true,
          "arn_suffix": true,
          "connection_termination": true,
          "health_check": [
            {}
          ],
          "id": true,
          "ip_address_type": true,
          "load_balancer_arns": true,
          "load_balancing_algorithm_type": true,
          "load_balancing_anomaly_mitigation": true,
          "load_balancing_cross_zone_enabled": true,
          "name_prefix": true,
          "preserve_client_ip": true,
          "protocol_version": true,
          "stickiness": true,
          "tags": {},
          "tags_all": {},
          "target_failover": true,
          "target_group_health": true,
          "target_health_state": true,
          "vpc_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "health_check": [
            {}
          ],
          "load_balancer_arns": [],
          "stickiness": [],
          "tags": {},
          "tags_all": {},
          "target_failover": [],
          "target_group_health": [],
          "target_health_state": []
        }
      }
    },
    {
      "address": "module.eks.data.aws_caller_identity.current",
      "module_address": "module.eks",
      "mode": "data",
      "type": "aws_caller_identity",
      "name": "current",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "read"
        ],
        "before": null,
        "after": {},
        "after_unknown": {
          "account_id": true,
          "arn": true,
          "id": true,
          "user_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {}
      },
      "action_reason": "read_because_dependency_pending"
    },
    {
      "address": "module.eks.data.aws_partition.current",
      "module_address": "module.eks",
      "mode": "data",
      "type": "aws_partition",
      "name": "current",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "read"
        ],
        "before": null,
        "after": {},
        "after_unknown": {
          "dns_suffix": true,
          "id": true,
          "partition": true,
          "reverse_dns_prefix": true
        },
        "before_sensitive": false,
        "after_sensitive": {}
      },
      "action_reason": "read_because_dependency_pending"
    },
    {
      "address": "module.eks.aws_eks_addon.coredns",
      "module_address": "module.eks",
      "mode": "managed",
      "type": "aws_eks_addon",
      "name": "coredns",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "addon_name": "coredns",
          "cluster_name": "kvstore-dev-cluster",
          "preserve": null,
          "resolve_conflicts": null,
          "resolve_conflicts_on_create": null,
          "resolve_conflicts_on_update": null,
          "service_account_role_arn": null,
          "tags": {
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Project": "kvstore"
          },
          "tags_all": {
            "CreatedBy": "terraform",
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Owner": "infrastructure-team",
            "Project": "kvstore",
            "Region": "us-east-1"
          },
          "timeouts": null
        },
        "after_unknown": {
          "addon_version": true,
          "arn": true,
          "configuration_values": true,
          "created_at": true,
          "id": true,
          "modified_at": true,
          "tags": {},
          "tags_all": {}
        },
        "before_sensitive": false,
        "after_sensitive": {
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.eks.aws_eks_addon.kube_proxy",
      "module_address": "module.eks",
      "mode": "managed",
      "type": "aws_eks_addon",
      "name": "kube_proxy",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "addon_name": "kube-proxy",
          "cluster_name": "kvstore-dev-cluster",
          "preserve": null,
          "resolve_conflicts": null,
          "resolve_conflicts_on_create": null,
          "resolve_conflicts_on_update": null,
          "service_account_role_arn": null,
          "tags": {
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Project": "kvstore"
          },
          "tags_all": {
            "CreatedBy": "terraform",
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Owner": "infrastructure-team",
            "Project": "kvstore",
            "Region": "us-east-1"
          },
          "timeouts": null
        },
        "after_unknown": {
          "addon_version": true,
          "arn": true,
          "configuration_values": true,
          "created_at": true,
          "id": true,
          "modified_at": true,
          "tags": {},
          "tags_all": {}
        },
        "before_sensitive": false,
        "after_sensitive": {
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.eks.aws_eks_addon.vpc_cni",
      "module_address": "module.eks",
      "mode": "managed",
      "type": "aws_eks_addon",
      "name": "vpc_cni",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "addon_name": "vpc-cni",
          "cluster_name": "kvstore-dev-cluster",
          "preserve": null,
          "resolve_conflicts": null,
          "resolve_conflicts_on_create": null,
          "resolve_conflicts_on_update": null,
          "service_account_role_arn": null,
          "tags": {
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Project": "kvstore"
          },
          "tags_all": {
            "CreatedBy": "terraform",
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Owner": "infrastructure-team",
            "Project": "kvstore",
            "Region": "us-east-1"
          },
          "timeouts": null
        },
        "after_unknown": {
          "addon_version": true,
          "arn": true,
          "configuration_values": true,
          "created_at": true,
          "id": true,
          "modified_at": true,
          "tags": {},
          "tags_all": {}
        },
        "before_sensitive": false,
        "after_sensitive": {
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.eks.aws_eks_cluster.main",
      "module_address": "module.eks",
      "mode": "managed",
      "type": "aws_eks_cluster",
      "name": "main",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "bootstrap_self_managed_addons": true,
          "enabled_cluster_log_types": [
            "api",
            "audit",
            "authenticator",
            "controllerManager",
            "scheduler"
          ],
          "encryption_config": [],
          "name": "kvstore-dev-cluster",
          "outpost_config": [],
          "tags": {
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Project": "kvstore"
          },
          "tags_all": {
            "CreatedBy": "terraform",
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Owner": "infrastructure-team",
            "Project": "kvstore",
            "Region": "us-east-1"
          },
          "timeouts": null,
          "version": "1.28",
          "vpc_config": [
            {
              "endpoint_private_access": true,
              "endpoint_public_access": true,
              "security_group_ids": null
            }
          ]
        },
        "after_unknown": {
          "access_config": true,
          "arn": true,
          "certificate_authority": true,
          "cluster_id": true,
          "created_at": true,
          "enabled_cluster_log_types": [
            false,
            false,
            false,
            false,
            false
          ],
          "encryption_config": [],
          "endpoint": true,
          "id": true,
          "identity": true,
          "kubernetes_network_config": true,
          "outpost_config": [],
          "platform_version": true,
          "role_arn": true,
          "status": true,
          "tags": {},
          "tags_all": {},
          "upgrade_policy": true,
          "vpc_config": [
            {
              "cluster_security_group_id": true,
              "public_access_cidrs": true,
              "subnet_ids": true,
              "vpc_id": true
            }
          ]
        },
        "before_sensitive": false,
        "after_sensitive": {
          "access_config": [],
          "certificate_authority": [],
          "enabled_cluster_log_types": [
            false,
            false,
            false,
            false,
            false
          ],
          "encryption_config": [],
          "identity": [],
          "kubernetes_network_config": [],
          "outpost_config": [],
          "tags": {},
          "tags_all": {},
          "upgrade_policy": [],
          "vpc_config": [
            {
              "public_access_cidrs": [],
              "subnet_ids": []
            }
          ]
        }
      }
    },
    {
      "address": "module.eks.aws_eks_node_group.main[\"general\"]",
      "module_address": "module.eks",
      "mode": "managed",
      "type": "aws_eks_node_group",
      "name": "main",
      "index": "general",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "cluster_name": "kvstore-dev-cluster",
          "disk_size": 50,
          "force_update_version": null,
          "instance_types": [
            "t3.medium"
          ],
          "labels": {
            "environment": "dev",
            "node-group": "general",
            "role": "general"
          },
          "launch_template": [],
          "node_group_name": "kvstore-dev-general",
          "remote_access": [],
          "scaling_config": [
            {
              "desired_size": 2,
              "max_size": 3,
              "min_size": 1
            }
          ],
          "tags": {
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Project": "kvstore"
          },
          "tags_all": {
            "CreatedBy": "terraform",
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Owner": "infrastructure-team",
            "Project": "kvstore",
            "Region": "us-east-1"
          },
          "taint": [],
          "timeouts": null
        },
        "after_unknown": {
          "ami_type": true,
          "arn": true,
          "capacity_type": true,
          "id": true,
          "instance_types": [
            false
          ],
          "labels": {},
          "launch_template": [],
          "node_group_name_prefix": true,
          "node_role_arn": true,
          "release_version": true,
          "remote_access": [],
          "resources": true,
          "scaling_config": [
            {}
          ],
          "status": true,
          "subnet_ids": true,
          "tags": {},
          "tags_all": {},
          "taint": [],
          "update_config": true,
          "version": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "instance_types": [
            false
          ],
          "labels": {},
          "launch_template": [],
          "remote_access": [],
          "resources": [],
          "scaling_config": [
            {}
          ],
          "subnet_ids": [],
          "tags": {},
          "tags_all": {},
          "taint": [],
          "update_config": []
        }
      }
    },
    {
      "address": "module.eks.aws_eks_node_group.main[\"kvstore\"]",
      "module_address": "module.eks",
      "mode": "managed",
      "type": "aws_eks_node_group",
      "name": "main",
      "index": "kvstore",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "cluster_name": "kvstore-dev-cluster",
          "disk_size": 100,
          "force_update_version": null,
          "instance_types": [
            "t3.large"
          ],
          "labels": {
            "environment": "dev",
            "node-group": "kvstore",
            "role": "kvstore"
          },
          "launch_template": [],
          "node_group_name": "kvstore-dev-kvstore",
          "remote_access": [],
          "scaling_config": [
            {
              "desired_size": 3,
              "max_size": 5,
              "min_size": 3
            }
          ],
          "tags": {
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Project": "kvstore"
          },
          "tags_all": {
            "CreatedBy": "terraform",
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Owner": "infrastructure-team",
            "Project": "kvstore",
            "Region": "us-east-1"
          },
          "taint": [],
          "timeouts": null
        },
        "after_unknown": {
          "ami_type": true,
          "arn": true,
          "capacity_type": true,
          "id": true,
          "instance_types": [
            false
          ],
          "labels": {},
          "launch_template": [],
          "node_group_name_prefix": true,
          "node_role_arn": true,
          "release_version": true,
          "remote_access": [],
          "resources": true,
          "scaling_config": [
            {}
          ],
          "status": true,
          "subnet_ids": true,
          "tags": {},
          "tags_all": {},
          "taint": [],
          "update_config": true,
          "version": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "instance_types": [
            false
          ],
          "labels": {},
          "launch_template": [],
          "remote_access": [],
          "resources": [],
          "scaling_config": [
            {}
          ],
          "subnet_ids": [],
          "tags": {},
          "tags_all": {},
          "taint": [],
          "update_config": []
        }
      }
    },
    {
      "address": "module.eks.aws_iam_policy.aws_load_balancer_controller",
      "module_address": "module.eks",
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "aws_load_balancer_controller",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "description": null,
          "name": "kvstore-dev-aws-lb-controller",
          "path": "/",
          "policy": "{\"Statement\":[{\"Action\":[\"iam:CreateServiceLinkedRole\",\"ec2:DescribeAccountAttributes\",\"ec2:DescribeAddresses\",\"ec2:DescribeAvailabilityZones\",\"ec2:DescribeInternetGateways\",\"ec2:DescribeVpcs\",\"ec2:DescribeSubnets\",\"ec2:DescribeSecurityGroups\",\"ec2:DescribeInstances\",\"ec2:DescribeNetworkInterfaces\",\"ec2:DescribeTags\",\"ec2:GetCoipPoolUsage\",\"ec2:DescribeCoipPools\",\"elasticloadbalancing:DescribeLoadBalancers\",\"elasticloadbalancing:DescribeLoadBalancerAttributes\",\"elasticloadbalancing:DescribeListeners\",\"elasticloadbalancing:DescribeListenerCertificates\",\"elasticloadbalancing:DescribeSSLPolicies\",\"elasticloadbalancing:DescribeRules\",\"elasticloadbalancing:DescribeTargetGroups\",\"elasticloadbalancing:DescribeTargetGroupAttributes\",\"elasticloadbalancing:DescribeTargetHealth\",\"elasticloadbalancing:DescribeTags\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"cognito-idp:DescribeUserPoolClient\",\"acm:ListCertificates\",\"acm:DescribeCertificate\",\"iam:ListServerCertificates\",\"iam:GetServerCertificate\",\"waf-regional:GetWebACL\",\"waf-regional:GetWebACLForResource\",\"waf-regional:AssociateWebACL\",\"waf-regional:DisassociateWebACL\",\"wafv2:GetWebACL\",\"wafv2:GetWebACLForResource\",\"wafv2:AssociateWebACL\",\"wafv2:DisassociateWebACL\",\"shield:GetSubscriptionState\",\"shield:DescribeProtection\",\"shield:CreateProtection\",\"shield:DeleteProtection\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"ec2:AuthorizeSecurityGroupIngress\",\"ec2:RevokeSecurityGroupIngress\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"elasticloadbalancing:CreateListener\",\"elasticloadbalancing:DeleteListener\",\"elasticloadbalancing:CreateRule\",\"elasticloadbalancing:DeleteRule\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}],\"Version\":\"2012-10-17\"}",
          "tags": {
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Project": "kvstore"
          },
          "tags_all": {
            "CreatedBy": "terraform",
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Owner": "infrastructure-team",
            "Project": "kvstore",
            "Region": "us-east-1"
          }
        },
        "after_unknown": {
          "arn": true,
          "attachment_count": true,
          "id": true,
          "name_prefix": true,
          "policy_id": true,
          "tags": {},
          "tags_all": {}
        },
        "before_sensitive": false,
        "after_sensitive": {
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.eks.aws_iam_policy.cluster_autoscaler",
      "module_address": "module.eks",
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "cluster_autoscaler",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "description": null,
          "name": "kvstore-dev-cluster-autoscaler",
          "path": "/",
          "policy": "{\"Statement\":[{\"Action\":[\"autoscaling:DescribeAutoScalingGroups\",\"autoscaling:DescribeAutoScalingInstances\",\"autoscaling:DescribeLaunchConfigurations\",\"autoscaling:DescribeTags\",\"autoscaling:SetDesiredCapacity\",\"autoscaling:TerminateInstanceInAutoScalingGroup\",\"ec2:DescribeLaunchTemplateVersions\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}],\"Version\":\"2012-10-17\"}",
          "tags": {
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Project": "kvstore"
          },
          "tags_all": {
            "CreatedBy": "terraform",
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Owner": "infrastructure-team",
            "Project": "kvstore",
            "Region": "us-east-1"
          }
        },
        "after_unknown": {
          "arn": true,
          "attachment_count": true,
          "id": true,
          "name_prefix": true,
          "policy_id": true,
          "tags": {},
          "tags_all": {}
        },
        "before_sensitive": false,
        "after_sensitive": {
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.eks.aws_iam_role.aws_load_balancer_controller",
      "module_address": "module.eks",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "aws_load_balancer_controller",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "description": null,
          "force_detach_policies": false,
          "max_session_duration": 3600,
          "name": "kvstore-dev-aws-lb-controller",
          "path": "/",
          "permissions_boundary": null,
          "tags": {
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Project": "kvstore"
          },
          "tags_all": {
            "CreatedBy": "terraform",
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Owner": "infrastructure-team",
            "Project": "kvstore",
            "Region": "us-east-1"
          }
        },
        "after_unknown": {
          "arn": true,
          "assume_role_policy": true,
          "create_date": true,
          "id": true,
          "inline_policy": true,
          "managed_policy_arns": true,
          "name_prefix": true,
          "tags": {},
          "tags_all": {},
          "unique_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "inline_policy": [],
          "managed_policy_arns": [],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.eks.aws_iam_role.cluster_autoscaler",
      "module_address": "module.eks",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "cluster_autoscaler",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "description": null,
          "force_detach_policies": false,
          "max_session_duration": 3600,
          "name": "kvstore-dev-cluster-autoscaler",
          "path": "/",
          "permissions_boundary": null,
          "tags": {
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Project": "kvstore"
          },
          "tags_all": {
            "CreatedBy": "terraform",
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Owner": "infrastructure-team",
            "Project": "kvstore",
            "Region": "us-east-1"
          }
        },
        "after_unknown": {
          "arn": true,
          "assume_role_policy": true,
          "create_date": true,
          "id": true,
          "inline_policy": true,
          "managed_policy_arns": true,
          "name_prefix": true,
          "tags": {},
          "tags_all": {},
          "unique_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "inline_policy": [],
          "managed_policy_arns": [],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.eks.aws_iam_role.eks_cluster",
      "module_address": "module.eks",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "eks_cluster",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"eks.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
          "description": null,
          "force_detach_policies": false,
          "max_session_duration": 3600,
          "name": "kvstore-dev-eks-cluster-role",
          "path": "/",
          "permissions_boundary": null,
          "tags": {
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Project": "kvstore"
          },
          "tags_all": {
            "CreatedBy": "terraform",
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Owner": "infrastructure-team",
            "Project": "kvstore",
            "Region": "us-east-1"
          }
        },
        "after_unknown": {
          "arn": true,
          "create_date": true,
          "id": true,
          "inline_policy": true,
          "managed_policy_arns": true,
          "name_prefix": true,
          "tags": {},
          "tags_all": {},
          "unique_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "inline_policy": [],
          "managed_policy_arns": [],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.eks.aws_iam_role.eks_node_group",
      "module_address": "module.eks",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "eks_node_group",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
          "description": null,
          "force_detach_policies": false,
          "max_session_duration": 3600,
          "name": "kvstore-dev-eks-node-group-role",
          "path": "/",
          "permissions_boundary": null,
          "tags": {
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Project": "kvstore"
          },
          "tags_all": {
            "CreatedBy": "terraform",
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Owner": "infrastructure-team",
            "Project": "kvstore",
            "Region": "us-east-1"
          }
        },
        "after_unknown": {
          "arn": true,
          "create_date": true,
          "id": true,
          "inline_policy": true,
          "managed_policy_arns": true,
          "name_prefix": true,
          "tags": {},
          "tags_all": {},
          "unique_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "inline_policy": [],
          "managed_policy_arns": [],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.eks.aws_iam_role_policy_attachment.aws_load_balancer_controller",
      "module_address": "module.eks",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "aws_load_balancer_controller",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "role": "kvstore-dev-aws-lb-controller"
        },
        "after_unknown": {
          "id": true,
          "policy_arn": true
        },
        "before_sensitive": false,
        "after_sensitive": {}
      }
    },
    {
      "address": "module.eks.aws_iam_role_policy_attachment.cluster_autoscaler",
      "module_address": "module.eks",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "cluster_autoscaler",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "role": "kvstore-dev-cluster-autoscaler"
        },
        "after_unknown": {
          "id": true,
          "policy_arn": true
        },
        "before_sensitive": false,
        "after_sensitive": {}
      }
    },
    {
      "address": "module.eks.aws_iam_role_policy_attachment.eks_cluster_policy",
      "module_address": "module.eks",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "eks_cluster_policy",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "policy_arn": "arn:aws:iam::aws:policy/AmazonEKSClusterPolicy",
          "role": "kvstore-dev-eks-cluster-role"
        },
        "after_unknown": {
          "id": true
        },
        "before_sensitive": false,
        "after_sensitive": {}
      }
    },
    {
      "address": "module.eks.aws_iam_role_policy_attachment.eks_cni_policy",
      "module_address": "module.eks",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "eks_cni_policy",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "policy_arn": "arn:aws:iam::aws:policy/AmazonEKS_CNI_Policy",
          "role": "kvstore-dev-eks-node-group-role"
        },
        "after_unknown": {
          "id": true
        },
        "before_sensitive": false,
        "after_sensitive": {}
      }
    },
    {
      "address": "module.eks.aws_iam_role_policy_attachment.eks_container_registry_policy",
      "module_address": "module.eks",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "eks_container_registry_policy",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "policy_arn": "arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryReadOnly",
          "role": "kvstore-dev-eks-node-group-role"
        },
        "after_unknown": {
          "id": true
        },
        "before_sensitive": false,
        "after_sensitive": {}
      }
    },
    {
      "address": "module.eks.aws_iam_role_policy_attachment.eks_worker_node_policy",
      "module_address": "module.eks",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "eks_worker_node_policy",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "policy_arn": "arn:aws:iam::aws:policy/AmazonEKSWorkerNodePolicy",
          "role": "kvstore-dev-eks-node-group-role"
        },
        "after_unknown": {
          "id": true
        },
        "before_sensitive": false,
        "after_sensitive": {}
      }
    },
    {
      "address": "module.nacls.aws_network_acl.private",
      "module_address": "module.nacls",
      "mode": "managed",
      "type": "aws_network_acl",
      "name": "private",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "egress": [
            {
              "action": "allow",
              "cidr_block": "0.0.0.0/0",
              "from_port": 0,
              "icmp_code": null,
              "icmp_type": null,
              "ipv6_cidr_block": "",
              "protocol": "-1",
              "rule_no": 100,
              "to_port": 0
            }
          ],
          "ingress": [
            {
              "action": "allow",
              "cidr_block": "0.0.0.0/0",
              "from_port": 1024,
              "icmp_code": null,
              "icmp_type": null,
              "ipv6_cidr_block": "",
              "protocol": "tcp",
              "rule_no": 110,
              "to_port": 65535
            },
            {
              "action": "allow",
              "cidr_block": "10.0.0.0/16",
              "from_port": 0,
              "icmp_code": null,
              "icmp_type": null,
              "ipv6_cidr_block": "",
              "protocol": "-1",
              "rule_no": 100,
              "to_port": 0
            }
          ],
          "tags": {
            "Environment": "dev",
            "Name": "kvstore-dev-private-nacl",
            "Project": "kvstore"
          },
          "tags_all": {
            "CreatedBy": "terraform",
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Name": "kvstore-dev-private-nacl",
            "Owner": "infrastructure-team",
            "Project": "kvstore",
            "Region": "us-east-1"
          }
        },
        "after_unknown": {
          "arn": true,
          "egress": [
            {}
          ],
          "id": true,
          "ingress": [
            {},
            {}
          ],
          "owner_id": true,
          "subnet_ids": true,
          "tags": {},
          "tags_all": {},
          "vpc_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "egress": [
            {}
          ],
          "ingress": [
            {},
            {}
          ],
          "subnet_ids": [],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.nacls.aws_network_acl.public",
      "module_address": "module.nacls",
      "mode": "managed",
      "type": "aws_network_acl",
      "name": "public",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "egress": [
            {
              "action": "allow",
              "cidr_block": "0.0.0.0/0",
              "from_port": 1024,
              "icmp_code": null,
              "icmp_type": null,
              "ipv6_cidr_block": "",
              "protocol": "tcp",
              "rule_no": 120,
              "to_port": 65535
            },
            {
              "action": "allow",
              "cidr_block": "0.0.0.0/0",
              "from_port": 443,
              "icmp_code": null,
              "icmp_type": null,
              "ipv6_cidr_block": "",
              "protocol": "tcp",
              "rule_no": 110,
              "to_port": 443
            },
            {
              "action": "allow",
              "cidr_block": "0.0.0.0/0",
              "from_port": 80,
              "icmp_code": null,
              "icmp_type": null,
              "ipv6_cidr_block": "",
              "protocol": "tcp",
              "rule_no": 100,
              "to_port": 80
            },
            {
              "action": "allow",
              "cidr_block": "10.0.0.0/16",
              "from_port": 0,
              "icmp_code": null,
              "icmp_type": null,
              "ipv6_cidr_block": "",
              "protocol": "-1",
              "rule_no": 130,
              "to_port": 0
            }
          ],
          "ingress": [
            {
              "action": "allow",
              "cidr_block": "0.0.0.0/0",
              "from_port": 1024,
              "icmp_code": null,
              "icmp_type": null,
              "ipv6_cidr_block": "",
              "protocol": "tcp",
              "rule_no": 120,
              "to_port": 65535
            },
            {
              "action": "allow",
              "cidr_block": "0.0.0.0/0",
              "from_port": 443,
              "icmp_code": null,
              "icmp_type": null,
              "ipv6_cidr_block": "",
              "protocol": "tcp",
              "rule_no": 110,
              "to_port": 443
            },
            {
              "action": "allow",
              "cidr_block": "0.0.0.0/0",
              "from_port": 80,
              "icmp_code": null,
              "icmp_type": null,
              "ipv6_cidr_block": "",
              "protocol": "tcp",
              "rule_no": 100,
              "to_port": 80
            }
          ],
          "tags": {
            "Environment": "dev",
            "Name": "kvstore-dev-public-nacl",
            "Project": "kvstore"
          },
          "tags_all": {
            "CreatedBy": "terraform",
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Name": "kvstore-dev-public-nacl",
            "Owner": "infrastructure-team",
            "Project": "kvstore",
            "Region": "us-east-1"
          }
        },
        "after_unknown": {
          "arn": true,
          "egress": [
            {},
            {},
            {},
            {}
          ],
          "id": true,
          "ingress": [
            {},
            {},
            {}
          ],
          "owner_id": true,
          "subnet_ids": true,
          "tags": {},
          "tags_all": {},
          "vpc_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "egress": [
            {},
            {},
            {},
            {}
          ],
          "ingress": [
            {},
            {},
            {}
          ],
          "subnet_ids": [],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.nat.aws_eip.nat[0]",
      "module_address": "module.nat",
      "mode": "managed",
      "type": "aws_eip",
      "name": "nat",
      "index": 0,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "address": null,
          "associate_with_private_ip": null,
          "customer_owned_ipv4_pool": null,
          "domain": "vpc",
          "tags": {
            "Environment": "dev",
            "Name": "kvstore-dev-nat-eip-1",
            "Project": "kvstore"
          },
          "tags_all": {
            "CreatedBy": "terraform",
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Name": "kvstore-dev-nat-eip-1",
            "Owner": "infrastructure-team",
            "Project": "kvstore",
            "Region": "us-east-1"
          },
          "timeouts": null
        },
        "after_unknown": {
          "allocation_id": true,
          "arn": true,
          "association_id": true,
          "carrier_ip": true,
          "customer_owned_ip": true,
          "id": true,
          "instance": true,
          "ipam_pool_id": true,
          "network_border_group": true,
          "network_interface": true,
          "private_dns": true,
          "private_ip": true,
          "ptr_record": true,
          "public_dns": true,
          "public_ip": true,
          "public_ipv4_pool": true,
          "tags": {},
          "tags_all": {},
          "vpc": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.nat.aws_nat_gateway.main[0]",
      "module_address": "module.nat",
      "mode": "managed",
      "type": "aws_nat_gateway",
      "name": "main",
      "index": 0,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "connectivity_type": "public",
          "secondary_allocation_ids": null,
          "tags": {
            "Environment": "dev",
            "Name": "kvstore-dev-nat-gw-1",
            "Project": "kvstore"
          },
          "tags_all": {
            "CreatedBy": "terraform",
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Name": "kvstore-dev-nat-gw-1",
            "Owner": "infrastructure-team",
            "Project": "kvstore",
            "Region": "us-east-1"
          },
          "timeouts": null
        },
        "after_unknown": {
          "allocation_id": true,
          "association_id": true,
          "id": true,
          "network_interface_id": true,
          "private_ip": true,
          "public_ip": true,
          "secondary_private_ip_address_count": true,
          "secondary_private_ip_addresses": true,
          "subnet_id": true,
          "tags": {},
          "tags_all": {}
        },
        "before_sensitive": false,
        "after_sensitive": {
          "secondary_private_ip_addresses": [],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.nat.aws_route.private_nat_gateway[0]",
      "module_address": "module.nat",
      "mode": "managed",
      "type": "aws_route",
      "name": "private_nat_gateway",
      "index": 0,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "carrier_gateway_id": null,
          "core_network_arn": null,
          "destination_cidr_block": "0.0.0.0/0",
          "destination_ipv6_cidr_block": null,
          "destination_prefix_list_id": null,
          "egress_only_gateway_id": null,
          "gateway_id": null,
          "local_gateway_id": null,
          "timeouts": null,
          "transit_gateway_id": null,
          "vpc_endpoint_id": null,
          "vpc_peering_connection_id": null
        },
        "after_unknown": {
          "id": true,
          "instance_id": true,
          "instance_owner_id": true,
          "nat_gateway_id": true,
          "network_interface_id": true,
          "origin": true,
          "route_table_id": true,
          "state": true
        },
        "before_sensitive": false,
        "after_sensitive": {}
      }
    },
    {
      "address": "module.nat.aws_route.private_nat_gateway[1]",
      "module_address": "module.nat",
      "mode": "managed",
      "type": "aws_route",
      "name": "private_nat_gateway",
      "index": 1,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "carrier_gateway_id": null,
          "core_network_arn": null,
          "destination_cidr_block": "0.0.0.0/0",
          "destination_ipv6_cidr_block": null,
          "destination_prefix_list_id": null,
          "egress_only_gateway_id": null,
          "gateway_id": null,
          "local_gateway_id": null,
          "timeouts": null,
          "transit_gateway_id": null,
          "vpc_endpoint_id": null,
          "vpc_peering_connection_id": null
        },
        "after_unknown": {
          "id": true,
          "instance_id": true,
          "instance_owner_id": true,
          "nat_gateway_id": true,
          "network_interface_id": true,
          "origin": true,
          "route_table_id": true,
          "state": true
        },
        "before_sensitive": false,
        "after_sensitive": {}
      }
    },
    {
      "address": "module.nat.aws_route.private_nat_gateway[2]",
      "module_address": "module.nat",
      "mode": "managed",
      "type": "aws_route",
      "name": "private_nat_gateway",
      "index": 2,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "carrier_gateway_id": null,
          "core_network_arn": null,
          "destination_cidr_block": "0.0.0.0/0",
          "destination_ipv6_cidr_block": null,
          "destination_prefix_list_id": null,
          "egress_only_gateway_id": null,
          "gateway_id": null,
          "local_gateway_id": null,
          "timeouts": null,
          "transit_gateway_id": null,
          "vpc_endpoint_id": null,
          "vpc_peering_connection_id": null
        },
        "after_unknown": {
          "id": true,
          "instance_id": true,
          "instance_owner_id": true,
          "nat_gateway_id": true,
          "network_interface_id": true,
          "origin": true,
          "route_table_id": true,
          "state": true
        },
        "before_sensitive": false,
        "after_sensitive": {}
      }
    },
    {
      "address": "module.security_groups.aws_security_group.kvstore_lb",
      "module_address": "module.security_groups",
      "mode": "managed",
      "type": "aws_security_group",
      "name": "kvstore_lb",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "description": "Security group for KV store load balancer",
          "egress": [
            {
              "cidr_blocks": [
                "0.0.0.0/0"
              ],
              "description": "",
              "from_port": 0,
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "protocol": "-1",
              "security_groups": [],
              "self": false,
              "to_port": 0
            }
          ],
          "ingress": [
            {
              "cidr_blocks": [
                "0.0.0.0/0"
              ],
              "description": "Client API Access",
              "from_port": 8080,
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "protocol": "tcp",
              "security_groups": [],
              "self": false,
              "to_port": 8080
            }
          ],
          "name": "kvstore-dev-kvstore-lb-sg",
          "revoke_rules_on_delete": false,
          "tags": {
            "Environment": "dev",
            "Name": "kvstore-dev-kvstore-lb-sg",
            "Project": "kvstore"
          },
          "tags_all": {
            "CreatedBy": "terraform",
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Name": "kvstore-dev-kvstore-lb-sg",
            "Owner": "infrastructure-team",
            "Project": "kvstore",
            "Region": "us-east-1"
          },
          "timeouts": null
        },
        "after_unknown": {
          "arn": true,
          "egress": [
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            }
          ],
          "id": true,
          "ingress": [
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            }
          ],
          "name_prefix": true,
          "owner_id": true,
          "tags": {},
          "tags_all": {},
          "vpc_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "egress": [
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            }
          ],
          "ingress": [
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            }
          ],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.security_groups.aws_security_group.kvstore_monitoring",
      "module_address": "module.security_groups",
      "mode": "managed",
      "type": "aws_security_group",
      "name": "kvstore_monitoring",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "description": "Security group for KV store monitoring",
          "egress": [
            {
              "cidr_blocks": [
                "0.0.0.0/0"
              ],
              "description": "",
              "from_port": 0,
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "protocol": "-1",
              "security_groups": [],
              "self": false,
              "to_port": 0
            }
          ],
          "ingress": [
            {
              "cidr_blocks": [
                "10.0.0.0/16"
              ],
              "description": "Node exporter metrics",
              "from_port": 9100,
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "protocol": "tcp",
              "security_groups": [],
              "self": false,
              "to_port": 9100
            },
            {
              "cidr_blocks": [
                "10.0.0.0/16"
              ],
              "description": "Prometheus metrics",
              "from_port": 9090,
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "protocol": "tcp",
              "security_groups": [],
              "self": false,
              "to_port": 9090
            }
          ],
          "name": "kvstore-dev-kvstore-monitoring-sg",
          "revoke_rules_on_delete": false,
          "tags": {
            "Environment": "dev",
            "Name": "kvstore-dev-kvstore-monitoring-sg",
            "Project": "kvstore"
          },
          "tags_all": {
            "CreatedBy": "terraform",
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Name": "kvstore-dev-kvstore-monitoring-sg",
            "Owner": "infrastructure-team",
            "Project": "kvstore",
            "Region": "us-east-1"
          },
          "timeouts": null
        },
        "after_unknown": {
          "arn": true,
          "egress": [
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            }
          ],
          "id": true,
          "ingress": [
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            },
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            }
          ],
          "name_prefix": true,
          "owner_id": true,
          "tags": {},
          "tags_all": {},
          "vpc_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "egress": [
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            }
          ],
          "ingress": [
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            },
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            }
          ],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.security_groups.aws_security_group.kvstore_nodes",
      "module_address": "module.security_groups",
      "mode": "managed",
      "type": "aws_security_group",
      "name": "kvstore_nodes",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "description": "Security group for KV store nodes",
          "egress": [
            {
              "cidr_blocks": [
                "0.0.0.0/0"
              ],
              "description": "",
              "from_port": 0,
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "protocol": "-1",
              "security_groups": [],
              "self": false,
              "to_port": 0
            }
          ],
          "ingress": [
            {
              "cidr_blocks": [
                "10.0.0.0/16"
              ],
              "description": "Client connections",
              "from_port": 8080,
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "protocol": "tcp",
              "security_groups": [],
              "self": false,
              "to_port": 8080
            },
            {
              "cidr_blocks": [],
              "description": "Gossip protocol",
              "from_port": 7947,
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "protocol": "udp",
              "security_groups": [],
              "self": true,
              "to_port": 7947
            },
            {
              "cidr_blocks": [],
              "description": "Peer communication",
              "from_port": 7946,
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "protocol": "tcp",
              "security_groups": [],
              "self": true,
              "to_port": 7946
            }
          ],
          "name": "kvstore-dev-kvstore-nodes-sg",
          "revoke_rules_on_delete": false,
          "tags": {
            "Environment": "dev",
            "Name": "kvstore-dev-kvstore-nodes-sg",
            "Project": "kvstore"
          },
          "tags_all": {
            "CreatedBy": "terraform",
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Name": "kvstore-dev-kvstore-nodes-sg",
            "Owner": "infrastructure-team",
            "Project": "kvstore",
            "Region": "us-east-1"
          },
          "timeouts": null
        },
        "after_unknown": {
          "arn": true,
          "egress": [
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            }
          ],
          "id": true,
          "ingress": [
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            },
            {
              "cidr_blocks": [],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            },
            {
              "cidr_blocks": [],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            }
          ],
          "name_prefix": true,
          "owner_id": true,
          "tags": {},
          "tags_all": {},
          "vpc_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "egress": [
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            }
          ],
          "ingress": [
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            },
            {
              "cidr_blocks": [],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            },
            {
              "cidr_blocks": [],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            }
          ],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.vpc.aws_internet_gateway.main",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_internet_gateway",
      "name": "main",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "tags": {
            "Name": "kvstore-dev-igw"
          },
          "tags_all": {
            "CreatedBy": "terraform",
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Name": "kvstore-dev-igw",
            "Owner": "infrastructure-team",
            "Project": "kvstore",
            "Region": "us-east-1"
          },
          "timeouts": null
        },
        "after_unknown": {
          "arn": true,
          "id": true,
          "owner_id": true,
          "tags": {},
          "tags_all": {},
          "vpc_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.vpc.aws_route_table.private[0]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_route_table",
      "name": "private",
      "index": 0,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "tags": {
            "Name": "kvstore-dev-private-rt-us-east-1a"
          },
          "tags_all": {
            "CreatedBy": "terraform",
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Name": "kvstore-dev-private-rt-us-east-1a",
            "Owner": "infrastructure-team",
            "Project": "kvstore",
            "Region": "us-east-1"
          },
          "timeouts": null
        },
        "after_unknown": {
          "arn": true,
          "id": true,
          "owner_id": true,
          "propagating_vgws": true,
          "route": true,
          "tags": {},
          "tags_all": {},
          "vpc_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "propagating_vgws": [],
          "route": [],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.vpc.aws_route_table.private[1]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_route_table",
      "name": "private",
      "index": 1,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "tags": {
            "Name": "kvstore-dev-private-rt-us-east-1b"
          },
          "tags_all": {
            "CreatedBy": "terraform",
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Name": "kvstore-dev-private-rt-us-east-1b",
            "Owner": "infrastructure-team",
            "Project": "kvstore",
            "Region": "us-east-1"
          },
          "timeouts": null
        },
        "after_unknown": {
          "arn": true,
          "id": true,
          "owner_id": true,
          "propagating_vgws": true,
          "route": true,
          "tags": {},
          "tags_all": {},
          "vpc_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "propagating_vgws": [],
          "route": [],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.vpc.aws_route_table.private[2]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_route_table",
      "name": "private",
      "index": 2,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "tags": {
            "Name": "kvstore-dev-private-rt-us-east-1c"
          },
          "tags_all": {
            "CreatedBy": "terraform",
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Name": "kvstore-dev-private-rt-us-east-1c",
            "Owner": "infrastructure-team",
            "Project": "kvstore",
            "Region": "us-east-1"
          },
          "timeouts": null
        },
        "after_unknown": {
          "arn": true,
          "id": true,
          "owner_id": true,
          "propagating_vgws": true,
          "route": true,
          "tags": {},
          "tags_all": {},
          "vpc_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "propagating_vgws": [],
          "route": [],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.vpc.aws_route_table.public",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_route_table",
      "name": "public",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "route": [
            {
              "carrier_gateway_id": "",
              "cidr_block": "0.0.0.0/0",
              "core_network_arn": "",
              "destination_prefix_list_id": "",
              "egress_only_gateway_id": "",
              "ipv6_cidr_block": "",
              "local_gateway_id": "",
              "nat_gateway_id": "",
              "network_interface_id": "",
              "transit_gateway_id": "",
              "vpc_endpoint_id": "",
              "vpc_peering_connection_id": ""
            }
          ],
          "tags": {
            "Name": "kvstore-dev-public-rt"
          },
          "tags_all": {
            "CreatedBy": "terraform",
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Name": "kvstore-dev-public-rt",
            "Owner": "infrastructure-team",
            "Project": "kvstore",
            "Region": "us-east-1"
          },
          "timeouts": null
        },
        "after_unknown": {
          "arn": true,
          "id": true,
          "owner_id": true,
          "propagating_vgws": true,
          "route": [
            {
              "gateway_id": true
            }
          ],
          "tags": {},
          "tags_all": {},
          "vpc_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "propagating_vgws": [],
          "route": [
            {}
          ],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.vpc.aws_route_table_association.private[0]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_route_table_association",
      "name": "private",
      "index": 0,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "gateway_id": null,
          "timeouts": null
        },
        "after_unknown": {
          "id": true,
          "route_table_id": true,
          "subnet_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {}
      }
    },
    {
      "address": "module.vpc.aws_route_table_association.private[1]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_route_table_association",
      "name": "private",
      "index": 1,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "gateway_id": null,
          "timeouts": null
        },
        "after_unknown": {
          "id": true,
          "route_table_id": true,
          "subnet_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {}
      }
    },
    {
      "address": "module.vpc.aws_route_table_association.private[2]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_route_table_association",
      "name": "private",
      "index": 2,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "gateway_id": null,
          "timeouts": null
        },
        "after_unknown": {
          "id": true,
          "route_table_id": true,
          "subnet_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {}
      }
    },
    {
      "address": "module.vpc.aws_route_table_association.public[0]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_route_table_association",
      "name": "public",
      "index": 0,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "gateway_id": null,
          "timeouts": null
        },
        "after_unknown": {
          "id": true,
          "route_table_id": true,
          "subnet_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {}
      }
    },
    {
      "address": "module.vpc.aws_route_table_association.public[1]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_route_table_association",
      "name": "public",
      "index": 1,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "gateway_id": null,
          "timeouts": null
        },
        "after_unknown": {
          "id": true,
          "route_table_id": true,
          "subnet_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {}
      }
    },
    {
      "address": "module.vpc.aws_route_table_association.public[2]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_route_table_association",
      "name": "public",
      "index": 2,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "gateway_id": null,
          "timeouts": null
        },
        "after_unknown": {
          "id": true,
          "route_table_id": true,
          "subnet_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {}
      }
    },
    {
      "address": "module.vpc.aws_subnet.private[0]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_subnet",
      "name": "private",
      "index": 0,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "assign_ipv6_address_on_creation": false,
          "availability_zone": "us-east-1a",
          "cidr_block": "10.0.0.0/19",
          "customer_owned_ipv4_pool": null,
          "enable_dns64": false,
          "enable_lni_at_device_index": null,
          "enable_resource_name_dns_a_record_on_launch": false,
          "enable_resource_name_dns_aaaa_record_on_launch": false,
          "ipv6_cidr_block": null,
          "ipv6_native": false,
          "map_customer_owned_ip_on_launch": null,
          "map_public_ip_on_launch": false,
          "outpost_arn": null,
          "tags": {
            "Name": "kvstore-dev-private-us-east-1a",
            "kubernetes.io/cluster/kvstore": "shared",
            "kubernetes.io/role/internal-elb": "1"
          },
          "tags_all": {
            "CreatedBy": "terraform",
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Name": "kvstore-dev-private-us-east-1a",
            "Owner": "infrastructure-team",
            "Project": "kvstore",
            "Region": "us-east-1",
            "kubernetes.io/cluster/kvstore": "shared",
            "kubernetes.io/role/internal-elb": "1"
          },
          "timeouts": null
        },
        "after_unknown": {
          "arn": true,
          "availability_zone_id": true,
          "id": true,
          "ipv6_cidr_block_association_id": true,
          "owner_id": true,
          "private_dns_hostname_type_on_launch": true,
          "tags": {},
          "tags_all": {},
          "vpc_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.vpc.aws_subnet.private[1]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_subnet",
      "name": "private",
      "index": 1,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "assign_ipv6_address_on_creation": false,
          "availability_zone": "us-east-1b",
          "cidr_block": "10.0.32.0/19",
          "customer_owned_ipv4_pool": null,
          "enable_dns64": false,
          "enable_lni_at_device_index": null,
          "enable_resource_name_dns_a_record_on_launch": false,
          "enable_resource_name_dns_aaaa_record_on_launch": false,
          "ipv6_cidr_block": null,
          "ipv6_native": false,
          "map_customer_owned_ip_on_launch": null,
          "map_public_ip_on_launch": false,
          "outpost_arn": null,
          "tags": {
            "Name": "kvstore-dev-private-us-east-1b",
            "kubernetes.io/cluster/kvstore": "shared",
            "kubernetes.io/role/internal-elb": "1"
          },
          "tags_all": {
            "CreatedBy": "terraform",
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Name": "kvstore-dev-private-us-east-1b",
            "Owner": "infrastructure-team",
            "Project": "kvstore",
            "Region": "us-east-1",
            "kubernetes.io/cluster/kvstore": "shared",
            "kubernetes.io/role/internal-elb": "1"
          },
          "timeouts": null
        },
        "after_unknown": {
          "arn": true,
          "availability_zone_id": true,
          "id": true,
          "ipv6_cidr_block_association_id": true,
          "owner_id": true,
          "private_dns_hostname_type_on_launch": true,
          "tags": {},
          "tags_all": {},
          "vpc_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.vpc.aws_subnet.private[2]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_subnet",
      "name": "private",
      "index": 2,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "assign_ipv6_address_on_creation": false,
          "availability_zone": "us-east-1c",
          "cidr_block": "10.0.64.0/19",
          "customer_owned_ipv4_pool": null,
          "enable_dns64": false,
          "enable_lni_at_device_index": null,
          "enable_resource_name_dns_a_record_on_launch": false,
          "enable_resource_name_dns_aaaa_record_on_launch": false,
          "ipv6_cidr_block": null,
          "ipv6_native": false,
          "map_customer_owned_ip_on_launch": null,
          "map_public_ip_on_launch": false,
          "outpost_arn": null,
          "tags": {
            "Name": "kvstore-dev-private-us-east-1c",
            "kubernetes.io/cluster/kvstore": "shared",
            "kubernetes.io/role/internal-elb": "1"
          },
          "tags_all": {
            "CreatedBy": "terraform",
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Name": "kvstore-dev-private-us-east-1c",
            "Owner": "infrastructure-team",
            "Project": "kvstore",
            "Region": "us-east-1",
            "kubernetes.io/cluster/kvstore": "shared",
            "kubernetes.io/role/internal-elb": "1"
          },
          "timeouts": null
        },
        "after_unknown": {
          "arn": true,
          "availability_zone_id": true,
          "id": true,
          "ipv6_cidr_block_association_id": true,
          "owner_id": true,
          "private_dns_hostname_type_on_launch": true,
          "tags": {},
          "tags_all": {},
          "vpc_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.vpc.aws_subnet.public[0]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_subnet",
      "name": "public",
      "index": 0,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "assign_ipv6_address_on_creation": false,
          "availability_zone": "us-east-1a",
          "cidr_block": "10.0.96.0/19",
          "customer_owned_ipv4_pool": null,
          "enable_dns64": false,
          "enable_lni_at_device_index": null,
          "enable_resource_name_dns_a_record_on_launch": false,
          "enable_resource_name_dns_aaaa_record_on_launch": false,
          "ipv6_cidr_block": null,
          "ipv6_native": false,
          "map_customer_owned_ip_on_launch": null,
          "map_public_ip_on_launch": true,
          "outpost_arn": null,
          "tags": {
            "Name": "kvstore-dev-public-us-east-1a",
            "kubernetes.io/cluster/kvstore": "shared",
            "kubernetes.io/role/elb": "1"
          },
          "tags_all": {
            "CreatedBy": "terraform",
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Name": "kvstore-dev-public-us-east-1a",
            "Owner": "infrastructure-team",
            "Project": "kvstore",
            "Region": "us-east-1",
            "kubernetes.io/cluster/kvstore": "shared",
            "kubernetes.io/role/elb": "1"
          },
          "timeouts": null
        },
        "after_unknown": {
          "arn": true,
          "availability_zone_id": true,
          "id": true,
          "ipv6_cidr_block_association_id": true,
          "owner_id": true,
          "private_dns_hostname_type_on_launch": true,
          "tags": {},
          "tags_all": {},
          "vpc_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.vpc.aws_subnet.public[1]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_subnet",
      "name": "public",
      "index": 1,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "assign_ipv6_address_on_creation": false,
          "availability_zone": "us-east-1b",
          "cidr_block": "10.0.128.0/19",
          "customer_owned_ipv4_pool": null,
          "enable_dns64": false,
          "enable_lni_at_device_index": null,
          "enable_resource_name_dns_a_record_on_launch": false,
          "enable_resource_name_dns_aaaa_record_on_launch": false,
          "ipv6_cidr_block": null,
          "ipv6_native": false,
          "map_customer_owned_ip_on_launch": null,
          "map_public_ip_on_launch": true,
          "outpost_arn": null,
          "tags": {
            "Name": "kvstore-dev-public-us-east-1b",
            "kubernetes.io/cluster/kvstore": "shared",
            "kubernetes.io/role/elb": "1"
          },
          "tags_all": {
            "CreatedBy": "terraform",
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Name": "kvstore-dev-public-us-east-1b",
            "Owner": "infrastructure-team",
            "Project": "kvstore",
            "Region": "us-east-1",
            "kubernetes.io/cluster/kvstore": "shared",
            "kubernetes.io/role/elb": "1"
          },
          "timeouts": null
        },
        "after_unknown": {
          "arn": true,
          "availability_zone_id": true,
          "id": true,
          "ipv6_cidr_block_association_id": true,
          "owner_id": true,
          "private_dns_hostname_type_on_launch": true,
          "tags": {},
          "tags_all": {},
          "vpc_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.vpc.aws_subnet.public[2]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_subnet",
      "name": "public",
      "index": 2,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "assign_ipv6_address_on_creation": false,
          "availability_zone": "us-east-1c",
          "cidr_block": "10.0.160.0/19",
          "customer_owned_ipv4_pool": null,
          "enable_dns64": false,
          "enable_lni_at_device_index": null,
          "enable_resource_name_dns_a_record_on_launch": false,
          "enable_resource_name_dns_aaaa_record_on_launch": false,
          "ipv6_cidr_block": null,
          "ipv6_native": false,
          "map_customer_owned_ip_on_launch": null,
          "map_public_ip_on_launch": true,
          "outpost_arn": null,
          "tags": {
            "Name": "kvstore-dev-public-us-east-1c",
            "kubernetes.io/cluster/kvstore": "shared",
            "kubernetes.io/role/elb": "1"
          },
          "tags_all": {
            "CreatedBy": "terraform",
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Name": "kvstore-dev-public-us-east-1c",
            "Owner": "infrastructure-team",
            "Project": "kvstore",
            "Region": "us-east-1",
            "kubernetes.io/cluster/kvstore": "shared",
            "kubernetes.io/role/elb": "1"
          },
          "timeouts": null
        },
        "after_unknown": {
          "arn": true,
          "availability_zone_id": true,
          "id": true,
          "ipv6_cidr_block_association_id": true,
          "owner_id": true,
          "private_dns_hostname_type_on_launch": true,
          "tags": {},
          "tags_all": {},
          "vpc_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.vpc.aws_vpc.main",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_vpc",
      "name": "main",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "assign_generated_ipv6_cidr_block": null,
          "cidr_block": "10.0.0.0/16",
          "enable_dns_hostnames": true,
          "enable_dns_support": true,
          "instance_tenancy": "default",
          "ipv4_ipam_pool_id": null,
          "ipv4_netmask_length": null,
          "ipv6_ipam_pool_id": null,
          "ipv6_netmask_length": null,
          "tags": {
            "Name": "kvstore-dev-vpc",
            "kubernetes.io/cluster/kvstore": "shared"
          },
          "tags_all": {
            "CreatedBy": "terraform",
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Name": "kvstore-dev-vpc",
            "Owner": "infrastructure-team",
            "Project": "kvstore",
            "Region": "us-east-1",
            "kubernetes.io/cluster/kvstore": "shared"
          }
        },
        "after_unknown": {
          "arn": true,
          "default_network_acl_id": true,
          "default_route_table_id": true,
          "default_security_group_id": true,
          "dhcp_options_id": true,
          "enable_network_address_usage_metrics": true,
          "id": true,
          "ipv6_association_id": true,
          "ipv6_cidr_block": true,
          "ipv6_cidr_block_network_border_group": true,
          "main_route_table_id": true,
          "owner_id": true,
          "tags": {},
          "tags_all": {}
        },
        "before_sensitive": false,
        "after_sensitive": {
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.vpc_flow_logs.aws_cloudwatch_log_group.flow_logs",
      "module_address": "module.vpc_flow_logs",
      "mode": "managed",
      "type": "aws_cloudwatch_log_group",
      "name": "flow_logs",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "kms_key_id": null,
          "name": "/aws/vpc-flow-logs/kvstore-dev",
          "retention_in_days": 30,
          "skip_destroy": false,
          "tags": {
            "CreatedBy": "terraform",
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Name": "kvstore-dev-flow-logs",
            "Owner": "infrastructure-team",
            "Project": "kvstore",
            "Region": "us-east-1"
          },
          "tags_all": {
            "CreatedBy": "terraform",
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Name": "kvstore-dev-flow-logs",
            "Owner": "infrastructure-team",
            "Project": "kvstore",
            "Region": "us-east-1"
          }
        },
        "after_unknown": {
          "arn": true,
          "id": true,
          "log_group_class": true,
          "name_prefix": true,
          "tags": {},
          "tags_all": {}
        },
        "before_sensitive": false,
        "after_sensitive": {
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.vpc_flow_logs.aws_cloudwatch_log_metric_filter.rejected_traffic",
      "module_address": "module.vpc_flow_logs",
      "mode": "managed",
      "type": "aws_cloudwatch_log_metric_filter",
      "name": "rejected_traffic",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "log_group_name": "/aws/vpc-flow-logs/kvstore-dev",
          "metric_transformation": [
            {
              "default_value": "0",
              "dimensions": null,
              "name": "RejectedTrafficCount",
              "namespace": "kvstore/dev/VPCFlowLogs",
              "unit": "None",
              "value": "1"
            }
          ],
          "name": "kvstore-dev-rejected-traffic",
          "pattern": "[version, account, eni, source, destination, srcport, destport, protocol, packets, bytes, windowstart, windowend, action=REJECT, flowlogstatus]"
        },
        "after_unknown": {
          "id": true,
          "metric_transformation": [
            {}
          ]
        },
        "before_sensitive": false,
        "after_sensitive": {
          "metric_transformation": [
            {}
          ]
        }
      }
    },
    {
      "address": "module.vpc_flow_logs.aws_cloudwatch_metric_alarm.rejected_traffic",
      "module_address": "module.vpc_flow_logs",
      "mode": "managed",
      "type": "aws_cloudwatch_metric_alarm",
      "name": "rejected_traffic",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "actions_enabled": true,
          "alarm_actions": null,
          "alarm_description": "This metric monitors rejected VPC traffic",
          "alarm_name": "kvstore-dev-rejected-traffic",
          "comparison_operator": "GreaterThanThreshold",
          "datapoints_to_alarm": null,
          "dimensions": null,
          "evaluation_periods": 1,
          "extended_statistic": null,
          "insufficient_data_actions": null,
          "metric_name": "RejectedTrafficCount",
          "metric_query": [],
          "namespace": "kvstore/dev/VPCFlowLogs",
          "ok_actions": null,
          "period": 300,
          "statistic": "Sum",
          "tags": {
            "CreatedBy": "terraform",
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Name": "kvstore-dev-rejected-traffic-alarm",
            "Owner": "infrastructure-team",
            "Project": "kvstore",
            "Region": "us-east-1"
          },
          "tags_all": {
            "CreatedBy": "terraform",
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Name": "kvstore-dev-rejected-traffic-alarm",
            "Owner": "infrastructure-team",
            "Project": "kvstore",
            "Region": "us-east-1"
          },
          "threshold": 100,
          "threshold_metric_id": null,
          "treat_missing_data": "notBreaching",
          "unit": null
        },
        "after_unknown": {
          "arn": true,
          "evaluate_low_sample_count_percentiles": true,
          "id": true,
          "metric_query": [],
          "tags": {},
          "tags_all": {}
        },
        "before_sensitive": false,
        "after_sensitive": {
          "metric_query": [],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.vpc_flow_logs.aws_flow_log.main",
      "module_address": "module.vpc_flow_logs",
      "mode": "managed",
      "type": "aws_flow_log",
      "name": "main",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "deliver_cross_account_role": null,
          "destination_options": [],
          "eni_id": null,
          "log_destination_type": "cloud-watch-logs",
          "max_aggregation_interval": 60,
          "subnet_id": null,
          "tags": {
            "CreatedBy": "terraform",
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Name": "kvstore-dev-flow-log",
            "Owner": "infrastructure-team",
            "Project": "kvstore",
            "Region": "us-east-1"
          },
          "tags_all": {
            "CreatedBy": "terraform",
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Name": "kvstore-dev-flow-log",
            "Owner": "infrastructure-team",
            "Project": "kvstore",
            "Region": "us-east-1"
          },
          "traffic_type": "ALL",
          "transit_gateway_attachment_id": null,
          "transit_gateway_id": null
        },
        "after_unknown": {
          "arn": true,
          "destination_options": [],
          "iam_role_arn": true,
          "id": true,
          "log_destination": true,
          "log_format": true,
          "log_group_name": true,
          "tags": {},
          "tags_all": {},
          "vpc_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "destination_options": [],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.vpc_flow_logs.aws_iam_role.flow_logs",
      "module_address": "module.vpc_flow_logs",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "flow_logs",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"vpc-flow-logs.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
          "description": null,
          "force_detach_policies": false,
          "max_session_duration": 3600,
          "name": "kvstore-dev-flow-logs-role",
          "path": "/",
          "permissions_boundary": null,
          "tags": {
            "CreatedBy": "terraform",
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Name": "kvstore-dev-flow-logs-role",
            "Owner": "infrastructure-team",
            "Project": "kvstore",
            "Region": "us-east-1"
          },
          "tags_all": {
            "CreatedBy": "terraform",
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Name": "kvstore-dev-flow-logs-role",
            "Owner": "infrastructure-team",
            "Project": "kvstore",
            "Region": "us-east-1"
          }
        },
        "after_unknown": {
          "arn": true,
          "create_date": true,
          "id": true,
          "inline_policy": true,
          "managed_policy_arns": true,
          "name_prefix": true,
          "tags": {},
          "tags_all": {},
          "unique_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "inline_policy": [],
          "managed_policy_arns": [],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.vpc_flow_logs.aws_iam_role_policy.flow_logs",
      "module_address": "module.vpc_flow_logs",
      "mode": "managed",
      "type": "aws_iam_role_policy",
      "name": "flow_logs",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "name": "kvstore-dev-flow-logs-policy"
        },
        "after_unknown": {
          "id": true,
          "name_prefix": true,
          "policy": true,
          "role": true
        },
        "before_sensitive": false,
        "after_sensitive": {}
      }
    }
  ],
  "output_changes": {
    "alb_dns_name": {
      "actions": [
        "create"
      ],
      "before": null,
      "after_unknown": true,
      "before_sensitive": false,
      "after_sensitive": false
    },
    "eks_cluster_endpoint": {
      "actions": [
        "create"
      ],
      "before": null,
      "after_unknown": true,
      "before_sensitive": false,
      "after_sensitive": false
    },
    "eks_cluster_id": {
      "actions": [
        "create"
      ],
      "before": null,
      "after_unknown": true,
      "before_sensitive": false,
      "after_sensitive": false
    },
    "nat_gateway_public_ips": {
      "actions": [
        "create"
      ],
      "before": null,
      "after": [
        null
      ],
      "after_unknown": [
        true
      ],
      "before_sensitive": false,
      "after_sensitive": false
    },
    "private_subnet_ids": {
      "actions": [
        "create"
      ],
      "before": null,
      "after": [
        null,
        null,
        null
      ],
      "after_unknown": [
        true,
        true,
        true
      ],
      "before_sensitive": false,
      "after_sensitive": false
    },
    "public_subnet_ids": {
      "actions": [
        "create"
      ],
      "before": null,
      "after": [
        null,
        null,
        null
      ],
      "after_unknown": [
        true,
        true,
        true
      ],
      "before_sensitive": false,
      "after_sensitive": false
    },
    "vpc_flow_logs_group": {
      "actions": [
        "create"
      ],
      "before": null,
      "after": "/aws/vpc-flow-logs/kvstore-dev",
      "after_unknown": false,
      "before_sensitive": false,
      "after_sensitive": false
    },
    "vpc_id": {
      "actions": [
        "create"
      ],
      "before": null,
      "after_unknown": true,
      "before_sensitive": false,
      "after_sensitive": false
    }
  },
  "prior_state": {
    "format_version": "1.0",
    "terraform_version": "1.9.0",
    "values": {
      "outputs": {
        "vpc_flow_logs_group": {
          "sensitive": false,
          "value": "/aws/vpc-flow-logs/kvstore-dev",
          "type": "string"
        }
      },
      "root_module": {}
    }
  },
  "configuration": {
    "provider_config": {
      "aws": {
        "name": "aws",
        "full_name": "registry.terraform.io/hashicorp/aws",
        "version_constraint": "~> 5.72.0",
        "expressions": {
          "default_tags": [
            {
              "tags": {
                "references": [
                  "var.default_tags"
                ]
              }
            }
          ],
          "profile": {
            "constant_value": "terraform_user"
          },
          "region": {
            "references": [
              "var.aws_region"
            ]
          }
        }
      },
      "kubernetes": {
        "name": "kubernetes",
        "full_name": "registry.terraform.io/hashicorp/kubernetes",
        "expressions": {
          "cluster_ca_certificate": {
            "references": [
              "module.eks.cluster_ca_certificate",
              "module.eks"
            ]
          },
          "exec": [
            {
              "api_version": {
                "constant_value": "client.authentication.k8s.io/v1beta1"
              },
              "args": {
                "references": [
                  "module.eks.cluster_id",
                  "module.eks"
                ]
              },
              "command": {
                "constant_value": "aws"
              }
            }
          ],
          "host": {
            "references": [
              "module.eks.cluster_endpoint",
              "module.eks"
            ]
          }
        }
      }
    },
    "root_module": {
      "outputs": {
        "alb_dns_name": {
          "expression": {
            "references": [
              "module.alb.alb_dns_name",
              "module.alb"
            ]
          },
          "description": "DNS name of the application load balancer"
        },
        "eks_cluster_endpoint": {
          "expression": {
            "references": [
              "module.eks.cluster_endpoint",
              "module.eks"
            ]
          },
          "description": "EKS cluster endpoint"
        },
        "eks_cluster_id": {
          "expression": {
            "references": [
              "module.eks.cluster_id",
              "module.eks"
            ]
          },
          "description": "EKS cluster ID"
        },
        "nat_gateway_public_ips": {
          "expression": {
            "references": [
              "module.nat.nat_gateway_public_ips",
              "module.nat"
            ]
          },
          "description": "List of public IPs of the NAT Gateways"
        },
        "private_subnet_ids": {
          "expression": {
            "references": [
              "module.vpc.private_subnet_ids",
              "module.vpc"
            ]
          },
          "description": "List of private subnet IDs"
        },
        "public_subnet_ids": {
          "expression": {
            "references": [
              "module.vpc.public_subnet_ids",
              "module.vpc"
            ]
          },
          "description": "List of public subnet IDs"
        },
        "vpc_flow_logs_group": {
          "expression": {
            "references": [
              "module.vpc_flow_logs.log_group_name",
              "module.vpc_flow_logs"
            ]
          },
          "description": "VPC Flow Logs CloudWatch Log Group name"
        },
        "vpc_id": {
          "expression": {
            "references": [
              "module.vpc.vpc_id",
              "module.vpc"
            ]
          },
          "description": "The ID of the VPC"
        }
      },
      "module_calls": {
        "alb": {
          "source": "./alb",
          "expressions": {
            "certificate_arn": {
              "references": [
                "var.certificate_arn"
              ]
            },
            "create_https_listener": {
              "references": [
                "var.create_https_listener"
              ]
            },
            "environment": {
              "references": [
                "var.environment"
              ]
            },
            "kvstore_port": {
              "references": [
                "var.kvstore_client_port"
              ]
            },
            "project": {
              "references": [
                "var.project_name"
              ]
            },
            "public_subnet_ids": {
              "references": [
                "module.vpc.public_subnet_ids",
                "module.vpc"
              ]
            },
            "security_group_ids": {
              "references": [
                "module.security_groups.kvstore_lb_sg_id",
                "module.security_groups"
              ]
            },
            "tags": {
              "references": [
                "var.default_tags"
              ]
            },
            "vpc_id": {
              "references": [
                "module.vpc.vpc_id",
                "module.vpc"
              ]
            }
          },
          "module": {
            "outputs": {
              "alb_arn": {
                "expression": {
                  "references": [
                    "aws_lb.kvstore.arn",
                    "aws_lb.kvstore"
                  ]
                },
                "description": "ARN of the load balancer"
              },
              "alb_dns_name": {
                "expression": {
                  "references": [
                    "aws_lb.kvstore.dns_name",
                    "aws_lb.kvstore"
                  ]
                },
                "description": "DNS name of the load balancer"
              },
              "http_listener_arn": {
                "expression": {
                  "references": [
                    "aws_lb_listener.http.arn",
                    "aws_lb_listener.http"
                  ]
                },
                "description": "ARN of the HTTP listener"
              },
              "https_listener_arn": {
                "expression": {
                  "references": [
                    "var.create_https_listener",
                    "aws_lb_listener.https[0].arn",
                    "aws_lb_listener.https[0]",
                    "aws_lb_listener.https"
                  ]
                },
                "description": "ARN of the HTTPS listener"
              },
              "target_group_arn": {
                "expression": {
                  "references": [
                    "aws_lb_target_group.kvstore.arn",
                    "aws_lb_target_group.kvstore"
                  ]
                },
                "description": "ARN of the target group"
              }
            },
            "resources": [
              {
                "address": "aws_lb.kvstore",
                "mode": "managed",
                "type": "aws_lb",
                "name": "kvstore",
                "provider_config_key": "aws",
                "expressions": {
                  "enable_deletion_protection": {
                    "references": [
                      "var.environment"
                    ]
                  },
                  "internal": {
                    "constant_value": false
                  },
                  "load_balancer_type": {
                    "constant_value": "application"
                  },
                  "name": {
                    "references": [
                      "local.name_prefix"
                    ]
                  },
                  "security_groups": {
                    "references": [
                      "var.security_group_ids"
                    ]
                  },
                  "subnets": {
                    "references": [
                      "var.public_subnet_ids"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "local.name_prefix",
                      "var.environment",
                      "var.project"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_lb_listener.http",
                "mode": "managed",
                "type": "aws_lb_listener",
                "name": "http",
                "provider_config_key": "aws",
                "expressions": {
                  "default_action": [
                    {
                      "target_group_arn": {
                        "references": [
                          "aws_lb_target_group.kvstore.arn",
                          "aws_lb_target_group.kvstore"
                        ]
                      },
                      "type": {
                        "constant_value": "forward"
                      }
                    }
                  ],
                  "load_balancer_arn": {
                    "references": [
                      "aws_lb.kvstore.arn",
                      "aws_lb.kvstore"
                    ]
                  },
                  "port": {
                    "constant_value": "80"
                  },
                  "protocol": {
                    "constant_value": "HTTP"
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "local.name_prefix",
                      "var.environment",
                      "var.project"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_lb_listener.https",
                "mode": "managed",
                "type": "aws_lb_listener",
                "name": "https",
                "provider_config_key": "aws",
                "expressions": {
                  "certificate_arn": {
                    "references": [
                      "var.certificate_arn"
                    ]
                  },
                  "default_action": [
                    {
                      "target_group_arn": {
                        "references": [
                          "aws_lb_target_group.kvstore.arn",
                          "aws_lb_target_group.kvstore"
                        ]
                      },
                      "type": {
                        "constant_value": "forward"
                      }
                    }
                  ],
                  "load_balancer_arn": {
                    "references": [
                      "aws_lb.kvstore.arn",
                      "aws_lb.kvstore"
                    ]
                  },
                  "port": {
                    "constant_value": "443"
                  },
                  "protocol": {
                    "constant_value": "HTTPS"
                  },
                  "ssl_policy": {
                    "constant_value": "ELBSecurityPolicy-TLS-1-2-2017-01"
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "local.name_prefix",
                      "var.environment",
                      "var.project"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_https_listener"
                  ]
                }
              },
              {
                "address": "aws_lb_target_group.kvstore",
                "mode": "managed",
                "type": "aws_lb_target_group",
                "name": "kvstore",
                "provider_config_key": "aws",
                "expressions": {
                  "health_check": [
                    {
                      "enabled": {
                        "constant_value": true
                      },
                      "healthy_threshold": {
                        "constant_value": 3
                      },
                      "interval": {
                        "constant_value": 30
                      },
                      "matcher": {
                        "constant_value": "200-299"
                      },
                      "path": {
                        "references": [
                          "var.health_check_path"
                        ]
                      },
                      "port": {
                        "constant_value": "traffic-port"
                      },
                      "timeout": {
                        "constant_value": 5
                      },
                      "unhealthy_threshold": {
                        "constant_value": 3
                      }
                    }
                  ],
                  "name": {
                    "references": [
                      "local.name_prefix"
                    ]
                  },
                  "port": {
                    "references": [
                      "var.kvstore_port"
                    ]
                  },
                  "protocol": {
                    "constant_value": "HTTP"
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "local.name_prefix",
                      "var.environment",
                      "var.project"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "var.vpc_id"
                    ]
                  }
                },
                "schema_version": 0
              }
            ],
            "variables": {
              "certificate_arn": {
                "default": null,
                "description": "ARN of ACM certificate for HTTPS"
              },
              "create_https_listener": {
                "default": false,
                "description": "Whether to create HTTPS listener"
              },
              "environment": {
                "description": "Environment name"
              },
              "health_check_path": {
                "default": "/health",
                "description": "Health check path for targets"
              },
              "kvstore_port": {
                "default": 8080,
                "description": "Port for KV store service"
              },
              "project": {
                "description": "Project name"
              },
              "public_subnet_ids": {
                "description": "List of public subnet IDs for ALB"
              },
              "security_group_ids": {
                "description": "Security group IDs for the ALB"
              },
              "tags": {
                "default": {},
                "description": "Additional tags for resources"
              },
              "vpc_id": {
                "description": "VPC ID where the ALB will be created"
              }
            }
          },
          "depends_on": [
            "module.security_groups"
          ]
        },
        "eks": {
          "source": "./eks",
          "expressions": {
            "cluster_version": {
              "constant_value": "1.28"
            },
            "environment": {
              "references": [
                "var.environment"
              ]
            },
            "node_groups": {
              "constant_value": {
                "general": {
                  "desired_size": 2,
                  "disk_size": 50,
                  "instance_types": [
                    "t3.medium"
                  ],
                  "labels": {
                    "role": "general"
                  },
                  "max_size": 3,
                  "min_size": 1,
                  "taints": []
                },
                "kvstore": {
                  "desired_size": 3,
                  "disk_size": 100,
                  "instance_types": [
                    "t3.large"
                  ],
                  "labels": {
                    "role": "kvstore"
                  },
                  "max_size": 5,
                  "min_size": 3,
                  "taints": []
                }
              }
            },
            "private_subnet_ids": {
              "references": [
                "module.vpc.private_subnet_ids",
                "module.vpc"
              ]
            },
            "project": {
              "references": [
                "var.project_name"
              ]
            },
            "vpc_id": {
              "references": [
                "module.vpc.vpc_id",
                "module.vpc"
              ]
            }
          },
          "module": {
            "outputs": {
              "cluster_ca_certificate": {
                "expression": {
                  "references": [
                    "aws_eks_cluster.main.certificate_authority[0].data",
                    "aws_eks_cluster.main.certificate_authority[0]",
                    "aws_eks_cluster.main.certificate_authority",
                    "aws_eks_cluster.main"
                  ]
                },
                "description": "The CA certificate of the EKS cluster"
              },
              "cluster_endpoint": {
                "expression": {
                  "references": [
                    "aws_eks_cluster.main.endpoint",
                    "aws_eks_cluster.main"
                  ]
                },
                "description": "The endpoint of the EKS cluster"
              },
              "cluster_id": {
                "expression": {
                  "references": [
                    "aws_eks_cluster.main.id",
                    "aws_eks_cluster.main"
                  ]
                },
                "description": "The ID of the EKS cluster"
              },
              "cluster_security_group_id": {
                "expression": {
                  "references": [
                    "aws_eks_cluster.main.vpc_config[0].cluster_security_group_id",
                    "aws_eks_cluster.main.vpc_config[0]",
                    "aws_eks_cluster.main.vpc_config",
                    "aws_eks_cluster.main"
                  ]
                },
                "description": "Security group ID attached to the EKS cluster"
              },
              "node_group_roles": {
                "expression": {
                  "references": [
                    "aws_iam_role.eks_node_group.name",
                    "aws_iam_role.eks_node_group"
                  ]
                },
                "description": "IAM roles for the node groups"
              }
            },
            "resources": [
              {
                "address": "aws_eks_addon.coredns",
                "mode": "managed",
                "type": "aws_eks_addon",
                "name": "coredns",
                "provider_config_key": "aws",
                "expressions": {
                  "addon_name": {
                    "constant_value": "coredns"
                  },
                  "cluster_name": {
                    "references": [
                      "aws_eks_cluster.main.name",
                      "aws_eks_cluster.main"
                    ]
                  },
                  "tags": {
                    "references": [
                      "local.common_tags"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_eks_addon.kube_proxy",
                "mode": "managed",
                "type": "aws_eks_addon",
                "name": "kube_proxy",
                "provider_config_key": "aws",
                "expressions": {
                  "addon_name": {
                    "constant_value": "kube-proxy"
                  },
                  "cluster_name": {
                    "references": [
                      "aws_eks_cluster.main.name",
                      "aws_eks_cluster.main"
                    ]
                  },
                  "tags": {
                    "references": [
                      "local.common_tags"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_eks_addon.vpc_cni",
                "mode": "managed",
                "type": "aws_eks_addon",
                "name": "vpc_cni",
                "provider_config_key": "aws",
                "expressions": {
                  "addon_name": {
                    "constant_value": "vpc-cni"
                  },
                  "cluster_name": {
                    "references": [
                      "aws_eks_cluster.main.name",
                      "aws_eks_cluster.main"
                    ]
                  },
                  "tags": {
                    "references": [
                      "local.common_tags"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_eks_cluster.main",
                "mode": "managed",
                "type": "aws_eks_cluster",
                "name": "main",
                "provider_config_key": "aws",
                "expressions": {
                  "enabled_cluster_log_types": {
                    "constant_value": [
                      "api",
                      "audit",
                      "authenticator",
                      "controllerManager",
                      "scheduler"
                    ]
                  },
                  "name": {
                    "references": [
                      "local.name_prefix"
                    ]
                  },
                  "role_arn": {
                    "references": [
                      "aws_iam_role.eks_cluster.arn",
                      "aws_iam_role.eks_cluster"
                    ]
                  },
                  "tags": {
                    "references": [
                      "local.common_tags"
                    ]
                  },
                  "version": {
                    "references": [
                      "var.cluster_version"
                    ]
                  },
                  "vpc_config": [
                    {
                      "endpoint_private_access": {
                        "constant_value": true
                      },
                      "endpoint_public_access": {
                        "constant_value": true
                      },
                      "security_group_ids": {
                        "constant_value": []
                      },
                      "subnet_ids": {
                        "references": [
                          "var.private_subnet_ids"
                        ]
                      }
                    }
                  ]
                },
                "schema_version": 1,
                "depends_on": [
                  "aws_iam_role_policy_attachment.eks_cluster_policy"
                ]
              },
              {
                "address": "aws_eks_node_group.main",
                "mode": "managed",
                "type": "aws_eks_node_group",
                "name": "main",
                "provider_config_key": "aws",
                "expressions": {
                  "cluster_name": {
                    "references": [
                      "aws_eks_cluster.main.name",
                      "aws_eks_cluster.main"
                    ]
                  },
                  "disk_size": {
                    "references": [
                      "each.value.disk_size",
                      "each.value"
                    ]
                  },
                  "instance_types": {
                    "references": [
                      "each.value.instance_types",
                      "each.value"
                    ]
                  },
                  "labels": {
                    "references": [
                      "each.value.labels",
                      "each.value",
                      "var.environment",
                      "each.key"
                    ]
                  },
                  "node_group_name": {
                    "references": [
                      "local.name_prefix",
                      "each.key"
                    ]
                  },
                  "node_role_arn": {
                    "references": [
                      "aws_iam_role.eks_node_group.arn",
                      "aws_iam_role.eks_node_group"
                    ]
                  },
                  "scaling_config": [
                    {
                      "desired_size": {
                        "references": [
                          "each.value.desired_size",
                          "each.value"
                        ]
                      },
                      "max_size": {
                        "references": [
                          "each.value.max_size",
                          "each.value"
                        ]
                      },
                      "min_size": {
                        "references": [
                          "each.value.min_size",
                          "each.value"
                        ]
                      }
                    }
                  ],
                  "subnet_ids": {
                    "references": [
                      "var.private_subnet_ids"
                    ]
                  },
                  "tags": {
                    "references": [
                      "local.common_tags"
                    ]
                  }
                },
                "schema_version": 0,
                "for_each_expression": {
                  "references": [
                    "var.node_groups"
                  ]
                },
                "depends_on": [
                  "aws_iam_role_policy_attachment.eks_worker_node_policy",
                  "aws_iam_role_policy_attachment.eks_cni_policy",
                  "aws_iam_role_policy_attachment.eks_container_registry_policy"
                ]
              },
              {
                "address": "aws_iam_policy.aws_load_balancer_controller",
                "mode": "managed",
                "type": "aws_iam_policy",
                "name": "aws_load_balancer_controller",
                "provider_config_key": "aws",
                "expressions": {
                  "name": {
                    "references": [
                      "local.name_prefix"
                    ]
                  },
                  "policy": {},
                  "tags": {
                    "references": [
                      "local.common_tags"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_iam_policy.cluster_autoscaler",
                "mode": "managed",
                "type": "aws_iam_policy",
                "name": "cluster_autoscaler",
                "provider_config_key": "aws",
                "expressions": {
                  "name": {
                    "references": [
                      "local.name_prefix"
                    ]
                  },
                  "policy": {},
                  "tags": {
                    "references": [
                      "local.common_tags"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_iam_role.aws_load_balancer_controller",
                "mode": "managed",
                "type": "aws_iam_role",
                "name": "aws_load_balancer_controller",
                "provider_config_key": "aws",
                "expressions": {
                  "assume_role_policy": {
                    "references": [
                      "data.aws_caller_identity.current.account_id",
                      "data.aws_caller_identity.current",
                      "aws_eks_cluster.main.identity[0].oidc[0].issuer",
                      "aws_eks_cluster.main.identity[0].oidc[0]",
                      "aws_eks_cluster.main.identity[0].oidc",
                      "aws_eks_cluster.main.identity[0]",
                      "aws_eks_cluster.main.identity",
                      "aws_eks_cluster.main",
                      "aws_eks_cluster.main.identity[0].oidc[0].issuer",
                      "aws_eks_cluster.main.identity[0].oidc[0]",
                      "aws_eks_cluster.main.identity[0].oidc",
                      "aws_eks_cluster.main.identity[0]",
                      "aws_eks_cluster.main.identity",
                      "aws_eks_cluster.main"
                    ]
                  },
                  "name": {
                    "references": [
                      "local.name_prefix"
                    ]
                  },
                  "tags": {
                    "references": [
                      "local.common_tags"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_iam_role.cluster_autoscaler",
                "mode": "managed",
                "type": "aws_iam_role",
                "name": "cluster_autoscaler",
                "provider_config_key": "aws",
                "expressions": {
                  "assume_role_policy": {
                    "references": [
                      "data.aws_caller_identity.current.account_id",
                      "data.aws_caller_identity.current",
                      "aws_eks_cluster.main.identity[0].oidc[0].issuer",
                      "aws_eks_cluster.main.identity[0].oidc[0]",
                      "aws_eks_cluster.main.identity[0].oidc",
                      "aws_eks_cluster.main.identity[0]",
                      "aws_eks_cluster.main.identity",
                      "aws_eks_cluster.main",
                      "aws_eks_cluster.main.identity[0].oidc[0].issuer",
                      "aws_eks_cluster.main.identity[0].oidc[0]",
                      "aws_eks_cluster.main.identity[0].oidc",
                      "aws_eks_cluster.main.identity[0]",
                      "aws_eks_cluster.main.identity",
                      "aws_eks_cluster.main"
                    ]
                  },
                  "name": {
                    "references": [
                      "local.name_prefix"
                    ]
                  },
                  "tags": {
                    "references": [
                      "local.common_tags"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_iam_role.eks_cluster",
                "mode": "managed",
                "type": "aws_iam_role",
                "name": "eks_cluster",
                "provider_config_key": "aws",
                "expressions": {
                  "assume_role_policy": {},
                  "name": {
                    "references": [
                      "local.name_prefix"
                    ]
                  },
                  "tags": {
                    "references": [
                      "local.common_tags"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_iam_role.eks_node_group",
                "mode": "managed",
                "type": "aws_iam_role",
                "name": "eks_node_group",
                "provider_config_key": "aws",
                "expressions": {
                  "assume_role_policy": {},
                  "name": {
                    "references": [
                      "local.name_prefix"
                    ]
                  },
                  "tags": {
                    "references": [
                      "local.common_tags"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_iam_role_policy_attachment.aws_load_balancer_controller",
                "mode": "managed",
                "type": "aws_iam_role_policy_attachment",
                "name": "aws_load_balancer_controller",
                "provider_config_key": "aws",
                "expressions": {
                  "policy_arn": {
                    "references": [
                      "aws_iam_policy.aws_load_balancer_controller.arn",
                      "aws_iam_policy.aws_load_balancer_controller"
                    ]
                  },
                  "role": {
                    "references": [
                      "aws_iam_role.aws_load_balancer_controller.name",
                      "aws_iam_role.aws_load_balancer_controller"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_iam_role_policy_attachment.cluster_autoscaler",
                "mode": "managed",
                "type": "aws_iam_role_policy_attachment",
                "name": "cluster_autoscaler",
                "provider_config_key": "aws",
                "expressions": {
                  "policy_arn": {
                    "references": [
                      "aws_iam_policy.cluster_autoscaler.arn",
                      "aws_iam_policy.cluster_autoscaler"
                    ]
                  },
                  "role": {
                    "references": [
                      "aws_iam_role.cluster_autoscaler.name",
                      "aws_iam_role.cluster_autoscaler"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_iam_role_policy_attachment.eks_cluster_policy",
                "mode": "managed",
                "type": "aws_iam_role_policy_attachment",
                "name": "eks_cluster_policy",
                "provider_config_key": "aws",
                "expressions": {
                  "policy_arn": {
                    "constant_value": "arn:aws:iam::aws:policy/AmazonEKSClusterPolicy"
                  },
                  "role": {
                    "references": [
                      "aws_iam_role.eks_cluster.name",
                      "aws_iam_role.eks_cluster"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_iam_role_policy_attachment.eks_cni_policy",
                "mode": "managed",
                "type": "aws_iam_role_policy_attachment",
                "name": "eks_cni_policy",
                "provider_config_key": "aws",
                "expressions": {
                  "policy_arn": {
                    "constant_value": "arn:aws:iam::aws:policy/AmazonEKS_CNI_Policy"
                  },
                  "role": {
                    "references": [
                      "aws_iam_role.eks_node_group.name",
                      "aws_iam_role.eks_node_group"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_iam_role_policy_attachment.eks_container_registry_policy",
                "mode": "managed",
                "type": "aws_iam_role_policy_attachment",
                "name": "eks_container_registry_policy",
                "provider_config_key": "aws",
                "expressions": {
                  "policy_arn": {
                    "constant_value": "arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryReadOnly"
                  },
                  "role": {
                    "references": [
                      "aws_iam_role.eks_node_group.name",
                      "aws_iam_role.eks_node_group"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_iam_role_policy_attachment.eks_worker_node_policy",
                "mode": "managed",
                "type": "aws_iam_role_policy_attachment",
                "name": "eks_worker_node_policy",
                "provider_config_key": "aws",
                "expressions": {
                  "policy_arn": {
                    "constant_value": "arn:aws:iam::aws:policy/AmazonEKSWorkerNodePolicy"
                  },
                  "role": {
                    "references": [
                      "aws_iam_role.eks_node_group.name",
                      "aws_iam_role.eks_node_group"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "data.aws_caller_identity.current",
                "mode": "data",
                "type": "aws_caller_identity",
                "name": "current",
                "provider_config_key": "aws",
                "schema_version": 0
              },
              {
                "address": "data.aws_partition.current",
                "mode": "data",
                "type": "aws_partition",
                "name": "current",
                "provider_config_key": "aws",
                "schema_version": 0
              }
            ],
            "variables": {
              "cluster_version": {
                "default": "1.28",
                "description": "Kubernetes version for EKS cluster"
              },
              "enable_cluster_autoscaler": {
                "default": true,
                "description": "Enable cluster autoscaler"
              },
              "environment": {
                "description": "Environment name"
              },
              "node_groups": {
                "default": {
                  "general": {
                    "desired_size": 2,
                    "disk_size": 50,
                    "instance_types": [
                      "t3.medium"
                    ],
                    "labels": {},
                    "max_size": 3,
                    "min_size": 1,
                    "taints": []
                  }
                },
                "description": "Map of EKS node group configurations"
              },
              "private_subnet_ids": {
                "description": "List of private subnet IDs for EKS cluster"
              },
              "project": {
                "description": "Project name"
              },
              "vpc_id": {
                "description": "VPC ID where EKS cluster will be created"
              }
            }
          },
          "depends_on": [
            "module.vpc",
            "module.security_groups"
          ]
        },
        "nacls": {
          "source": "./nacls",
          "expressions": {
            "environment": {
              "references": [
                "var.environment"
              ]
            },
            "private_subnet_ids": {
              "references": [
                "module.vpc.private_subnet_ids",
                "module.vpc"
              ]
            },
            "project": {
              "references": [
                "var.project_name"
              ]
            },
            "public_subnet_ids": {
              "references": [
                "module.vpc.public_subnet_ids",
                "module.vpc"
              ]
            },
            "vpc_cidr": {
              "references": [
                "var.vpc_cidr"
              ]
            },
            "vpc_id": {
              "references": [
                "module.vpc.vpc_id",
                "module.vpc"
              ]
            }
          },
          "module": {
            "outputs": {
              "private_nacl_id": {
                "expression": {
                  "references": [
                    "aws_network_acl.private.id",
                    "aws_network_acl.private"
                  ]
                },
                "description": "ID of the private subnets NACL"
              },
              "public_nacl_id": {
                "expression": {
                  "references": [
                    "aws_network_acl.public.id",
                    "aws_network_acl.public"
                  ]
                },
                "description": "ID of the public subnets NACL"
              }
            },
            "resources": [
              {
                "address": "aws_network_acl.private",
                "mode": "managed",
                "type": "aws_network_acl",
                "name": "private",
                "provider_config_key": "aws",
                "expressions": {
                  "egress": {
                    "constant_value": [
                      {
                        "action": "allow",
                        "cidr_block": "0.0.0.0/0",
                        "from_port": 0,
                        "icmp_code": null,
                        "icmp_type": null,
                        "ipv6_cidr_block": null,
                        "protocol": "-1",
                        "rule_no": 100,
                        "to_port": 0
                      }
                    ]
                  },
                  "ingress": {
                    "references": [
                      "var.vpc_cidr"
                    ]
                  },
                  "subnet_ids": {
                    "references": [
                      "var.private_subnet_ids"
                    ]
                  },
                  "tags": {
                    "references": [
                      "local.name_prefix",
                      "var.environment",
                      "var.project"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "var.vpc_id"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_network_acl.public",
                "mode": "managed",
                "type": "aws_network_acl",
                "name": "public",
                "provider_config_key": "aws",
                "expressions": {
                  "egress": {
                    "references": [
                      "var.vpc_cidr"
                    ]
                  },
                  "ingress": {
                    "constant_value": [
                      {
                        "action": "allow",
                        "cidr_block": "0.0.0.0/0",
                        "from_port": 80,
                        "icmp_code": null,
                        "icmp_type": null,
                        "ipv6_cidr_block": null,
                        "protocol": "tcp",
                        "rule_no": 100,
                        "to_port": 80
                      },
                      {
                        "action": "allow",
                        "cidr_block": "0.0.0.0/0",
                        "from_port": 443,
                        "icmp_code": null,
                        "icmp_type": null,
                        "ipv6_cidr_block": null,
                        "protocol": "tcp",
                        "rule_no": 110,
                        "to_port": 443
                      },
                      {
                        "action": "allow",
                        "cidr_block": "0.0.0.0/0",
                        "from_port": 1024,
                        "icmp_code": null,
                        "icmp_type": null,
                        "ipv6_cidr_block": null,
                        "protocol": "tcp",
                        "rule_no": 120,
                        "to_port": 65535
                      }
                    ]
                  },
                  "subnet_ids": {
                    "references": [
                      "var.public_subnet_ids"
                    ]
                  },
                  "tags": {
                    "references": [
                      "local.name_prefix",
                      "var.environment",
                      "var.project"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "var.vpc_id"
                    ]
                  }
                },
                "schema_version": 0
              }
            ],
            "variables": {
              "environment": {
                "description": "Environment name"
              },
              "private_subnet_ids": {
                "description": "List of private subnet IDs"
              },
              "project": {
                "description": "Project name"
              },
              "public_subnet_ids": {
                "description": "List of public subnet IDs"
              },
              "vpc_cidr": {
                "description": "VPC CIDR block"
              },
              "vpc_id": {
                "description": "VPC ID"
              }
            }
          },
          "depends_on": [
            "module.vpc"
          ]
        },
        "nat": {
          "source": "./nat",
          "expressions": {
            "create_per_az_nat": {
              "references": [
                "var.environment"
              ]
            },
            "environment": {
              "references": [
                "var.environment"
              ]
            },
            "private_route_table_ids": {
              "references": [
                "module.vpc.private_route_table_ids",
                "module.vpc"
              ]
            },
            "project": {
              "references": [
                "var.project_name"
              ]
            },
            "public_subnet_ids": {
              "references": [
                "module.vpc.public_subnet_ids",
                "module.vpc"
              ]
            },
            "vpc_id": {
              "references": [
                "module.vpc.vpc_id",
                "module.vpc"
              ]
            }
          },
          "module": {
            "outputs": {
              "nat_gateway_ids": {
                "expression": {
                  "references": [
                    "aws_nat_gateway.main"
                  ]
                },
                "description": "List of NAT Gateway IDs"
              },
              "nat_gateway_public_ips": {
                "expression": {
                  "references": [
                    "aws_eip.nat"
                  ]
                },
                "description": "List of public IPs of the NAT Gateways"
              }
            },
            "resources": [
              {
                "address": "aws_eip.nat",
                "mode": "managed",
                "type": "aws_eip",
                "name": "nat",
                "provider_config_key": "aws",
                "expressions": {
                  "domain": {
                    "constant_value": "vpc"
                  },
                  "tags": {
                    "references": [
                      "local.name_prefix",
                      "count.index",
                      "var.environment",
                      "var.project"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.nat_gateway_count"
                  ]
                }
              },
              {
                "address": "aws_nat_gateway.main",
                "mode": "managed",
                "type": "aws_nat_gateway",
                "name": "main",
                "provider_config_key": "aws",
                "expressions": {
                  "allocation_id": {
                    "references": [
                      "aws_eip.nat",
                      "count.index"
                    ]
                  },
                  "subnet_id": {
                    "references": [
                      "var.public_subnet_ids",
                      "count.index"
                    ]
                  },
                  "tags": {
                    "references": [
                      "local.name_prefix",
                      "count.index",
                      "var.environment",
                      "var.project"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.nat_gateway_count"
                  ]
                },
                "depends_on": [
                  "aws_eip.nat"
                ]
              },
              {
                "address": "aws_route.private_nat_gateway",
                "mode": "managed",
                "type": "aws_route",
                "name": "private_nat_gateway",
                "provider_config_key": "aws",
                "expressions": {
                  "destination_cidr_block": {
                    "constant_value": "0.0.0.0/0"
                  },
                  "nat_gateway_id": {
                    "references": [
                      "var.create_per_az_nat",
                      "aws_nat_gateway.main",
                      "count.index",
                      "aws_nat_gateway.main[0].id",
                      "aws_nat_gateway.main[0]",
                      "aws_nat_gateway.main"
                    ]
                  },
                  "route_table_id": {
                    "references": [
                      "var.private_route_table_ids",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.private_route_table_ids"
                  ]
                }
              }
            ],
            "variables": {
              "create_per_az_nat": {
                "default": true,
                "description": "Whether to create NAT Gateway per AZ for high availability"
              },
              "environment": {
                "description": "Environment name"
              },
              "private_route_table_ids": {
                "description": "List of private route table IDs"
              },
              "project": {
                "description": "Project name"
              },
              "public_subnet_ids": {
                "description": "List of public subnet IDs where NAT Gateways will be created"
              },
              "vpc_id": {
                "description": "ID of the VPC"
              }
            }
          },
          "depends_on": [
            "module.vpc"
          ]
        },
        "security_groups": {
          "source": "./security_groups",
          "expressions": {
            "environment": {
              "references": [
                "var.environment"
              ]
            },
            "project": {
              "references": [
                "var.project_name"
              ]
            },
            "vpc_cidr": {
              "references": [
                "var.vpc_cidr"
              ]
            },
            "vpc_id": {
              "references": [
                "module.vpc.vpc_id",
                "module.vpc"
              ]
            }
          },
          "module": {
            "outputs": {
              "kvstore_lb_sg_id": {
                "expression": {
                  "references": [
                    "aws_security_group.kvstore_lb.id",
                    "aws_security_group.kvstore_lb"
                  ]
                },
                "description": "ID of the Load Balancer security group"
              },
              "kvstore_monitoring_sg_id": {
                "expression": {
                  "references": [
                    "aws_security_group.kvstore_monitoring.id",
                    "aws_security_group.kvstore_monitoring"
                  ]
                },
                "description": "ID of the monitoring security group"
              },
              "kvstore_nodes_sg_id": {
                "expression": {
                  "references": [
                    "aws_security_group.kvstore_nodes.id",
                    "aws_security_group.kvstore_nodes"
                  ]
                },
                "description": "ID of the KV store nodes security group"
              }
            },
            "resources": [
              {
                "address": "aws_security_group.kvstore_lb",
                "mode": "managed",
                "type": "aws_security_group",
                "name": "kvstore_lb",
                "provider_config_key": "aws",
                "expressions": {
                  "description": {
                    "constant_value": "Security group for KV store load balancer"
                  },
                  "egress": {
                    "constant_value": [
                      {
                        "cidr_blocks": [
                          "0.0.0.0/0"
                        ],
                        "description": null,
                        "from_port": 0,
                        "ipv6_cidr_blocks": null,
                        "prefix_list_ids": null,
                        "protocol": "-1",
                        "security_groups": null,
                        "self": null,
                        "to_port": 0
                      }
                    ]
                  },
                  "ingress": {
                    "references": [
                      "var.kvstore_client_port",
                      "var.kvstore_client_port"
                    ]
                  },
                  "name": {
                    "references": [
                      "local.name_prefix"
                    ]
                  },
                  "tags": {
                    "references": [
                      "local.name_prefix",
                      "var.environment",
                      "var.project"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "var.vpc_id"
                    ]
                  }
                },
                "schema_version": 1
              },
              {
                "address": "aws_security_group.kvstore_monitoring",
                "mode": "managed",
                "type": "aws_security_group",
                "name": "kvstore_monitoring",
                "provider_config_key": "aws",
                "expressions": {
                  "description": {
                    "constant_value": "Security group for KV store monitoring"
                  },
                  "egress": {
                    "constant_value": [
                      {
                        "cidr_blocks": [
                          "0.0.0.0/0"
                        ],
                        "description": null,
                        "from_port": 0,
                        "ipv6_cidr_blocks": null,
                        "prefix_list_ids": null,
                        "protocol": "-1",
                        "security_groups": null,
                        "self": null,
                        "to_port": 0
                      }
                    ]
                  },
                  "ingress": {
                    "references": [
                      "var.vpc_cidr",
                      "var.vpc_cidr"
                    ]
                  },
                  "name": {
                    "references": [
                      "local.name_prefix"
                    ]
                  },
                  "tags": {
                    "references": [
                      "local.name_prefix",
                      "var.environment",
                      "var.project"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "var.vpc_id"
                    ]
                  }
                },
                "schema_version": 1
              },
              {
                "address": "aws_security_group.kvstore_nodes",
                "mode": "managed",
                "type": "aws_security_group",
                "name": "kvstore_nodes",
                "provider_config_key": "aws",
                "expressions": {
                  "description": {
                    "constant_value": "Security group for KV store nodes"
                  },
                  "egress": {
                    "constant_value": [
                      {
                        "cidr_blocks": [
                          "0.0.0.0/0"
                        ],
                        "description": null,
                        "from_port": 0,
                        "ipv6_cidr_blocks": null,
                        "prefix_list_ids": null,
                        "protocol": "-1",
                        "security_groups": null,
                        "self": null,
                        "to_port": 0
                      }
                    ]
                  },
                  "ingress": {
                    "references": [
                      "var.kvstore_client_port",
                      "var.vpc_cidr",
                      "var.kvstore_client_port",
                      "var.kvstore_peer_port",
                      "var.kvstore_peer_port",
                      "var.kvstore_gossip_port",
                      "var.kvstore_gossip_port"
                    ]
                  },
                  "name": {
                    "references": [
                      "local.name_prefix"
                    ]
                  },
                  "tags": {
                    "references": [
                      "local.name_prefix",
                      "var.environment",
                      "var.project"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "var.vpc_id"
                    ]
                  }
                },
                "schema_version": 1
              }
            ],
            "variables": {
              "environment": {
                "description": "Environment name"
              },
              "kvstore_client_port": {
                "default": 8080,
                "description": "Port for KV store client connections"
              },
              "kvstore_gossip_port": {
                "default": 7947,
                "description": "Port for gossip protocol"
              },
              "kvstore_peer_port": {
                "default": 7946,
                "description": "Port for KV store peer communication"
              },
              "project": {
                "description": "Project name"
              },
              "vpc_cidr": {
                "description": "VPC CIDR block"
              },
              "vpc_id": {
                "description": "ID of the VPC"
              }
            }
          }
        },
        "vpc": {
          "source": "./vpc",
          "expressions": {
            "availability_zones": {
              "references": [
                "var.availability_zones"
              ]
            },
            "environment": {
              "references": [
                "var.environment"
              ]
            },
            "private_subnet_cidrs": {
              "references": [
                "var.private_subnet_cidrs"
              ]
            },
            "project_name": {
              "references": [
                "var.project_name"
              ]
            },
            "public_subnet_cidrs": {
              "references": [
                "var.public_subnet_cidrs"
              ]
            },
            "vpc_cidr": {
              "references": [
                "var.vpc_cidr"
              ]
            }
          },
          "module": {
            "outputs": {
              "private_route_table_ids": {
                "expression": {
                  "references": [
                    "aws_route_table.private"
                  ]
                },
                "description": "List of private route table IDs"
              },
              "private_subnet_ids": {
                "expression": {
                  "references": [
                    "aws_subnet.private"
                  ]
                },
                "description": "List of private subnet IDs"
              },
              "public_subnet_ids": {
                "expression": {
                  "references": [
                    "aws_subnet.public"
                  ]
                },
                "description": "List of public subnet IDs"
              },
              "vpc_cidr_block": {
                "expression": {
                  "references": [
                    "aws_vpc.main.cidr_block",
                    "aws_vpc.main"
                  ]
                },
                "description": "The CIDR block of the VPC"
              },
              "vpc_id": {
                "expression": {
                  "references": [
                    "aws_vpc.main.id",
                    "aws_vpc.main"
                  ]
                },
                "description": "The ID of the VPC"
              }
            },
            "resources": [
              {
                "address": "aws_internet_gateway.main",
                "mode": "managed",
                "type": "aws_internet_gateway",
                "name": "main",
                "provider_config_key": "aws",
                "expressions": {
                  "tags": {
                    "references": [
                      "local.name_prefix"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "aws_vpc.main.id",
                      "aws_vpc.main"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_route_table.private",
                "mode": "managed",
                "type": "aws_route_table",
                "name": "private",
                "provider_config_key": "aws",
                "expressions": {
                  "tags": {
                    "references": [
                      "local.name_prefix",
                      "var.availability_zones",
                      "count.index"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "aws_vpc.main.id",
                      "aws_vpc.main"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.availability_zones"
                  ]
                }
              },
              {
                "address": "aws_route_table.public",
                "mode": "managed",
                "type": "aws_route_table",
                "name": "public",
                "provider_config_key": "aws",
                "expressions": {
                  "route": {
                    "references": [
                      "aws_internet_gateway.main.id",
                      "aws_internet_gateway.main"
                    ]
                  },
                  "tags": {
                    "references": [
                      "local.name_prefix"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "aws_vpc.main.id",
                      "aws_vpc.main"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_route_table_association.private",
                "mode": "managed",
                "type": "aws_route_table_association",
                "name": "private",
                "provider_config_key": "aws",
                "expressions": {
                  "route_table_id": {
                    "references": [
                      "aws_route_table.private",
                      "count.index"
                    ]
                  },
                  "subnet_id": {
                    "references": [
                      "aws_subnet.private",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.private_subnet_cidrs"
                  ]
                }
              },
              {
                "address": "aws_route_table_association.public",
                "mode": "managed",
                "type": "aws_route_table_association",
                "name": "public",
                "provider_config_key": "aws",
                "expressions": {
                  "route_table_id": {
                    "references": [
                      "aws_route_table.public.id",
                      "aws_route_table.public"
                    ]
                  },
                  "subnet_id": {
                    "references": [
                      "aws_subnet.public",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.public_subnet_cidrs"
                  ]
                }
              },
              {
                "address": "aws_subnet.private",
                "mode": "managed",
                "type": "aws_subnet",
                "name": "private",
                "provider_config_key": "aws",
                "expressions": {
                  "availability_zone": {
                    "references": [
                      "var.availability_zones",
                      "count.index"
                    ]
                  },
                  "cidr_block": {
                    "references": [
                      "var.private_subnet_cidrs",
                      "count.index"
                    ]
                  },
                  "tags": {
                    "references": [
                      "local.name_prefix",
                      "var.availability_zones",
                      "count.index",
                      "var.project_name"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "aws_vpc.main.id",
                      "aws_vpc.main"
                    ]
                  }
                },
                "schema_version": 1,
                "count_expression": {
                  "references": [
                    "var.availability_zones"
                  ]
                }
              },
              {
                "address": "aws_subnet.public",
                "mode": "managed",
                "type": "aws_subnet",
                "name": "public",
                "provider_config_key": "aws",
                "expressions": {
                  "availability_zone": {
                    "references": [
                      "var.availability_zones",
                      "count.index"
                    ]
                  },
                  "cidr_block": {
                    "references": [
                      "var.public_subnet_cidrs",
                      "count.index"
                    ]
                  },
                  "map_public_ip_on_launch": {
                    "constant_value": true
                  },
                  "tags": {
                    "references": [
                      "local.name_prefix",
                      "var.availability_zones",
                      "count.index",
                      "var.project_name"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "aws_vpc.main.id",
                      "aws_vpc.main"
                    ]
                  }
                },
                "schema_version": 1,
                "count_expression": {
                  "references": [
                    "var.availability_zones"
                  ]
                }
              },
              {
                "address": "aws_vpc.main",
                "mode": "managed",
                "type": "aws_vpc",
                "name": "main",
                "provider_config_key": "aws",
                "expressions": {
                  "cidr_block": {
                    "references": [
                      "var.vpc_cidr"
                    ]
                  },
                  "enable_dns_hostnames": {
                    "constant_value": true
                  },
                  "enable_dns_support": {
                    "constant_value": true
                  },
                  "tags": {
                    "references": [
                      "local.name_prefix",
                      "var.project_name"
                    ]
                  }
                },
                "schema_version": 1
              }
            ],
            "variables": {
              "availability_zones": {
                "description": "List of availability zones"
              },
              "environment": {
                "description": "Environment name"
              },
              "private_subnet_cidrs": {
                "description": "List of private subnet CIDR blocks"
              },
              "project_name": {
                "description": "Project name"
              },
              "public_subnet_cidrs": {
                "description": "List of public subnet CIDR blocks"
              },
              "vpc_cidr": {
                "description": "CIDR block for VPC"
              }
            }
          }
        },
        "vpc_flow_logs": {
          "source": "./vpc-flow",
          "expressions": {
            "environment": {
              "references": [
                "var.environment"
              ]
            },
            "project": {
              "references": [
                "var.project_name"
              ]
            },
            "retention_days": {
              "constant_value": 30
            },
            "tags": {
              "references": [
                "var.default_tags"
              ]
            },
            "traffic_type": {
              "constant_value": "ALL"
            },
            "vpc_id": {
              "references": [
                "module.vpc.vpc_id",
                "module.vpc"
              ]
            }
          },
          "module": {
            "outputs": {
              "flow_log_id": {
                "expression": {
                  "references": [
                    "aws_flow_log.main.id",
                    "aws_flow_log.main"
                  ]
                },
                "description": "The ID of the VPC Flow Log"
              },
              "log_group_arn": {
                "expression": {
                  "references": [
                    "aws_cloudwatch_log_group.flow_logs.arn",
                    "aws_cloudwatch_log_group.flow_logs"
                  ]
                },
                "description": "The ARN of the CloudWatch Log Group"
              },
              "log_group_name": {
                "expression": {
                  "references": [
                    "aws_cloudwatch_log_group.flow_logs.name",
                    "aws_cloudwatch_log_group.flow_logs"
                  ]
                },
                "description": "The name of the CloudWatch Log Group"
              }
            },
            "resources": [
              {
                "address": "aws_cloudwatch_log_group.flow_logs",
                "mode": "managed",
                "type": "aws_cloudwatch_log_group",
                "name": "flow_logs",
                "provider_config_key": "aws",
                "expressions": {
                  "name": {
                    "references": [
                      "local.name_prefix"
                    ]
                  },
                  "retention_in_days": {
                    "references": [
                      "var.retention_days"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "local.name_prefix",
                      "var.environment",
                      "var.project"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_cloudwatch_log_metric_filter.rejected_traffic",
                "mode": "managed",
                "type": "aws_cloudwatch_log_metric_filter",
                "name": "rejected_traffic",
                "provider_config_key": "aws",
                "expressions": {
                  "log_group_name": {
                    "references": [
                      "aws_cloudwatch_log_group.flow_logs.name",
                      "aws_cloudwatch_log_group.flow_logs"
                    ]
                  },
                  "metric_transformation": [
                    {
                      "default_value": {
                        "constant_value": "0"
                      },
                      "name": {
                        "constant_value": "RejectedTrafficCount"
                      },
                      "namespace": {
                        "references": [
                          "var.project",
                          "var.environment"
                        ]
                      },
                      "value": {
                        "constant_value": "1"
                      }
                    }
                  ],
                  "name": {
                    "references": [
                      "local.name_prefix"
                    ]
                  },
                  "pattern": {
                    "constant_value": "[version, account, eni, source, destination, srcport, destport, protocol, packets, bytes, windowstart, windowend, action=REJECT, flowlogstatus]"
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_cloudwatch_metric_alarm.rejected_traffic",
                "mode": "managed",
                "type": "aws_cloudwatch_metric_alarm",
                "name": "rejected_traffic",
                "provider_config_key": "aws",
                "expressions": {
                  "alarm_description": {
                    "constant_value": "This metric monitors rejected VPC traffic"
                  },
                  "alarm_name": {
                    "references": [
                      "local.name_prefix"
                    ]
                  },
                  "comparison_operator": {
                    "constant_value": "GreaterThanThreshold"
                  },
                  "evaluation_periods": {
                    "constant_value": "1"
                  },
                  "metric_name": {
                    "constant_value": "RejectedTrafficCount"
                  },
                  "namespace": {
                    "references": [
                      "var.project",
                      "var.environment"
                    ]
                  },
                  "period": {
                    "constant_value": "300"
                  },
                  "statistic": {
                    "constant_value": "Sum"
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "local.name_prefix",
                      "var.environment",
                      "var.project"
                    ]
                  },
                  "threshold": {
                    "constant_value": "100"
                  },
                  "treat_missing_data": {
                    "constant_value": "notBreaching"
                  }
                },
                "schema_version": 1
              },
              {
                "address": "aws_flow_log.main",
                "mode": "managed",
                "type": "aws_flow_log",
                "name": "main",
                "provider_config_key": "aws",
                "expressions": {
                  "iam_role_arn": {
                    "references": [
                      "aws_iam_role.flow_logs.arn",
                      "aws_iam_role.flow_logs"
                    ]
                  },
                  "log_destination": {
                    "references": [
                      "aws_cloudwatch_log_group.flow_logs.arn",
                      "aws_cloudwatch_log_group.flow_logs"
                    ]
                  },
                  "log_destination_type": {
                    "constant_value": "cloud-watch-logs"
                  },
                  "max_aggregation_interval": {
                    "constant_value": 60
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "local.name_prefix",
                      "var.environment",
                      "var.project"
                    ]
                  },
                  "traffic_type": {
                    "references": [
                      "var.traffic_type"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "var.vpc_id"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_iam_role.flow_logs",
                "mode": "managed",
                "type": "aws_iam_role",
                "name": "flow_logs",
                "provider_config_key": "aws",
                "expressions": {
                  "assume_role_policy": {},
                  "name": {
                    "references": [
                      "local.name_prefix"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "local.name_prefix",
                      "var.environment",
                      "var.project"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_iam_role_policy.flow_logs",
                "mode": "managed",
                "type": "aws_iam_role_policy",
                "name": "flow_logs",
                "provider_config_key": "aws",
                "expressions": {
                  "name": {
                    "references": [
                      "local.name_prefix"
                    ]
                  },
                  "policy": {
                    "references": [
                      "aws_cloudwatch_log_group.flow_logs.arn",
                      "aws_cloudwatch_log_group.flow_logs",
                      "aws_cloudwatch_log_group.flow_logs.arn",
                      "aws_cloudwatch_log_group.flow_logs"
                    ]
                  },
                  "role": {
                    "references": [
                      "aws_iam_role.flow_logs.id",
                      "aws_iam_role.flow_logs"
                    ]
                  }
                },
                "schema_version": 0
              }
            ],
            "variables": {
              "environment": {
                "description": "Environment name"
              },
              "project": {
                "description": "Project name"
              },
              "retention_days": {
                "default": 30,
                "description": "Number of days to retain flow logs"
              },
              "tags": {
                "default": {},
                "description": "Additional tags for resources"
              },
              "traffic_type": {
                "default": "ALL",
                "description": "Type of traffic to log (ACCEPT, REJECT, ALL)"
              },
              "vpc_id": {
                "description": "VPC ID for flow logs"
              }
            }
          },
          "depends_on": [
            "module.vpc"
          ]
        }
      },
      "variables": {
        "availability_zones": {
          "default": [
            "us-east-1a",
            "us-east-1b",
            "us-east-1c"
          ],
          "description": "Availability zones in us-east-1"
        },
        "aws_region": {
          "default": "us-east-1",
          "description": "AWS region"
        },
        "certificate_arn": {
          "default": null,
          "description": "ARN of ACM certificate for HTTPS"
        },
        "create_https_listener": {
          "default": false,
          "description": "Whether to create HTTPS listener"
        },
        "default_tags": {
          "default": {
            "Environment": "dev",
            "ManagedBy": "terraform",
            "Owner": "infrastructure-team",
            "Project": "kvstore"
          },
          "description": "Default tags for all resources"
        },
        "environment": {
          "description": "Environment name"
        },
        "kvstore_client_port": {
          "default": 8080,
          "description": "Port for KV store client connections"
        },
        "kvstore_gossip_port": {
          "default": 7947,
          "description": "Port for gossip protocol"
        },
        "kvstore_peer_port": {
          "default": 7946,
          "description": "Port for KV store peer communication"
        },
        "private_subnet_cidrs": {
          "default": [
            "10.0.0.0/19",
            "10.0.32.0/19",
            "10.0.64.0/19"
          ],
          "description": "CIDR blocks for private subnets"
        },
        "project_name": {
          "default": "kvstore",
          "description": "Project name"
        },
        "public_subnet_cidrs": {
          "default": [
            "10.0.96.0/19",
            "10.0.128.0/19",
            "10.0.160.0/19"
          ],
          "description": "CIDR blocks for public subnets"
        },
        "vpc_cidr": {
          "default": "10.0.0.0/16",
          "description": "CIDR block for VPC"
        }
      }
    }
  },
  "relevant_attributes": [
    {
      "resource": "module.eks.aws_eks_cluster.main",
      "attribute": [
        "name"
      ]
    },
    {
      "resource": "module.eks.aws_iam_policy.cluster_autoscaler",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.eks.aws_iam_role.cluster_autoscaler",
      "attribute": [
        "name"
      ]
    },
    {
      "resource": "module.security_groups.aws_security_group.kvstore_lb",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.eks.aws_eks_cluster.main",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.alb.aws_lb_target_group.kvstore",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.nat.aws_nat_gateway.main[0]",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.vpc.aws_vpc.main",
      "attribute": [
        "cidr_block"
      ]
    },
    {
      "resource": "module.alb.aws_lb_listener.http",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.vpc.aws_route_table.public",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.vpc.aws_subnet.public",
      "attribute": []
    },
    {
      "resource": "module.eks.aws_iam_role.eks_cluster",
      "attribute": [
        "name"
      ]
    },
    {
      "resource": "module.eks.aws_eks_cluster.main",
      "attribute": [
        "vpc_config",
        0,
        "cluster_security_group_id"
      ]
    },
    {
      "resource": "module.vpc.aws_vpc.main",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.vpc_flow_logs.aws_iam_role.flow_logs",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.eks.aws_iam_policy.aws_load_balancer_controller",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.security_groups.aws_security_group.kvstore_monitoring",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.alb.aws_lb.kvstore",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.eks.data.aws_caller_identity.current",
      "attribute": [
        "account_id"
      ]
    },
    {
      "resource": "module.eks.aws_eks_cluster.main",
      "attribute": [
        "identity",
        0,
        "oidc",
        0,
        "issuer"
      ]
    },
    {
      "resource": "module.eks.aws_iam_role.eks_node_group",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.eks.aws_eks_cluster.main",
      "attribute": [
        "endpoint"
      ]
    },
    {
      "resource": "module.vpc.aws_subnet.private",
      "attribute": []
    },
    {
      "resource": "module.vpc_flow_logs.aws_iam_role.flow_logs",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.eks.aws_iam_role.eks_cluster",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.eks.aws_iam_role.aws_load_balancer_controller",
      "attribute": [
        "name"
      ]
    },
    {
      "resource": "module.nacls.aws_network_acl.private",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.vpc.aws_route_table.private",
      "attribute": []
    },
    {
      "resource": "module.eks.aws_iam_role.eks_node_group",
      "attribute": [
        "name"
      ]
    },
    {
      "resource": "module.nat.aws_eip.nat",
      "attribute": []
    },
    {
      "resource": "module.vpc_flow_logs.aws_flow_log.main",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.eks.aws_eks_cluster.main",
      "attribute": [
        "certificate_authority",
        0,
        "data"
      ]
    },
    {
      "resource": "module.alb.aws_lb.kvstore",
      "attribute": [
        "dns_name"
      ]
    },
    {
      "resource": "module.nacls.aws_network_acl.public",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.vpc.aws_internet_gateway.main",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.vpc_flow_logs.aws_cloudwatch_log_group.flow_logs",
      "attribute": [
        "name"
      ]
    },
    {
      "resource": "module.vpc_flow_logs.aws_cloudwatch_log_group.flow_logs",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.nat.aws_nat_gateway.main",
      "attribute": []
    },
    {
      "resource": "module.security_groups.aws_security_group.kvstore_nodes",
      "attribute": [
        "id"
      ]
    }
  ],
  "timestamp": "2024-10-25T20:27:16Z",
  "applyable": true,
  "complete": true,
  "errored": false
}
